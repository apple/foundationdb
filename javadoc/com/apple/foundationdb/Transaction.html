<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Thu Jun 12 01:46:24 UTC 2025 -->
<title>Transaction</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-06-12">
<meta name="description" content="declaration: package: com.apple.foundationdb, interface: Transaction">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.apple.foundationdb</a></div>
<h1 title="Interface Transaction" class="title">Interface Transaction</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code>, <code><a href="ReadTransaction.html" title="interface in com.apple.foundationdb">ReadTransaction</a></code>, <code><a href="ReadTransactionContext.html" title="interface in com.apple.foundationdb">ReadTransactionContext</a></code>, <code><a href="TransactionContext.html" title="interface in com.apple.foundationdb">TransactionContext</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">Transaction</span><span class="extends-implements">
extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a>, <a href="ReadTransaction.html" title="interface in com.apple.foundationdb">ReadTransaction</a>, <a href="TransactionContext.html" title="interface in com.apple.foundationdb">TransactionContext</a></span></div>
<div class="block">A Transaction represents a FoundationDB database transaction. All operations on FoundationDB
  take place, explicitly or implicitly, through a Transaction.<br>
  <br>
 In FoundationDB, a transaction is a mutable snapshot of a database. All read and write operations
  on a transaction see and modify an otherwise-unchanging version of the database and only change
  the underlying database if and when the transaction is committed. Read operations do see the
  effects of previous write operations on the same transaction. Committing a transaction usually
  succeeds in the absence of
  <a href="/foundationdb/developer-guide.html#developer-guide-transaction-conflicts" target="_blank">conflicts</a>.<br>
  <br>
 Transactions group operations into a unit with the properties of atomicity, isolation, and
  durability. Transactions also provide the ability to maintain an application's invariants or
  integrity constraints, supporting the property of consistency. Together these properties are
  known as <a href="/foundationdb/developer-guide.html#acid" target="_blank">ACID</a>.<br>
  <br>
 Transactions are also causally consistent: once a transaction has been successfully committed,
  all subsequently created transactions will see the modifications made by it.
 The most convenient way for a developer to manage the lifecycle and retrying
  of a <code>Transaction</code> is to use <a href="Database.html#run(java.util.function.Function)"><code>Database.run(Function)</code></a>. Otherwise, the client
  must have retry logic for fatal failures, failures to commit, and other transient errors.<br>
 <br>
 Keys and values in FoundationDB are byte arrays. To encode other data types, see the
  <a href="tuple/Tuple.html" title="class in com.apple.foundationdb.tuple"><code>Tuple API</code></a> and
  <a href="/foundationdb/data-modeling.html#data-modeling-tuples" target="_blank">tuple layer documentation</a>.<br>
 <br>
 When used as a <a href="TransactionContext.html" title="interface in com.apple.foundationdb"><code>TransactionContext</code></a>, the methods <code>run()</code> and
  <code>runAsync()</code> on a <code>Transaction</code> will simply attempt the operations
  without any retry loop.<br>
 <br>
 <b>Note:</b> Client must call <a href="#commit()"><code>commit()</code></a> and wait on the result on all transactions, even
  ones that only read. This is done automatically when using the retry loops from
  <a href="Database.html#run(java.util.function.Function)"><code>Database.run(Function)</code></a>. This is because outstanding reads originating from a
  <code>Transaction</code> will be cancelled when a <code>Transaction</code> is garbage collected.
  Since the garbage collector reserves the right to collect an in-scope object if it
  determines that there are no subsequent references it it, this can happen in seemingly
  innocuous situations. <code>CompletableFuture</code>s returned from <code>commit()</code> will block until
  all reads are complete, thereby saving the calling code from this potentially confusing
  situation.<br>
 <br>
 <b>Note:</b> All keys with a first byte of <code>0xff</code> are reserved for internal use.<br>
 <br>
 <b>Note:</b> Java transactions automatically set the <a href="TransactionOptions.html#setUsedDuringCommitProtectionDisable()"><code>TransactionOptions.setUsedDuringCommitProtectionDisable()</code></a>
  option. This is because the Java bindings disallow use of <code>Transaction</code> objects after <a href="#onError(java.lang.Throwable)"><code>onError(java.lang.Throwable)</code></a>
  is called.<br>
 <br>
 <b>Note:</b> <code>Transaction</code> objects must be <a href="#close()"><code>closed</code></a> when no longer
  in use in order to free any associated resources.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-com.apple.foundationdb.ReadTransaction">Fields inherited from interface&nbsp;com.apple.foundationdb.<a href="ReadTransaction.html" title="interface in com.apple.foundationdb">ReadTransaction</a></h3>
<code><a href="ReadTransaction.html#ROW_LIMIT_UNLIMITED">ROW_LIMIT_UNLIMITED</a></code></div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab6" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab6', 3)" class="table-tab">Deprecated Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addReadConflictKey(byte%5B%5D)" class="member-name-link">addReadConflictKey</a><wbr>(byte[]&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds a key to the transaction's read conflict ranges as if you had read
 the key.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addReadConflictRange(byte%5B%5D,byte%5B%5D)" class="member-name-link">addReadConflictRange</a><wbr>(byte[]&nbsp;keyBegin,
 byte[]&nbsp;keyEnd)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds a range of keys to the transaction's read conflict ranges as if you
 had read the range.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addWriteConflictKey(byte%5B%5D)" class="member-name-link">addWriteConflictKey</a><wbr>(byte[]&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds a key to the transaction's write conflict ranges as if you had
 written the key.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addWriteConflictRange(byte%5B%5D,byte%5B%5D)" class="member-name-link">addWriteConflictRange</a><wbr>(byte[]&nbsp;keyBegin,
 byte[]&nbsp;keyEnd)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds a range of keys to the transaction's write conflict ranges as if you
 had cleared the range.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#cancel()" class="member-name-link">cancel</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Cancels the <code>Transaction</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#clear(byte%5B%5D)" class="member-name-link">clear</a><wbr>(byte[]&nbsp;key)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Clears a given key from the database.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#clear(byte%5B%5D,byte%5B%5D)" class="member-name-link">clear</a><wbr>(byte[]&nbsp;beginKey,
 byte[]&nbsp;endKey)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Clears a range of keys in the database.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#clear(com.apple.foundationdb.Range)" class="member-name-link">clear</a><wbr>(<a href="Range.html" title="class in com.apple.foundationdb">Range</a>&nbsp;range)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Clears a range of keys in the database.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3 method-summary-table-tab6"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3 method-summary-table-tab6"><code><a href="#clearRangeStartsWith(byte%5B%5D)" class="member-name-link">clearRangeStartsWith</a><wbr>(byte[]&nbsp;prefix)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Close the <code>Transaction</code> object and release any associated resources.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#commit()" class="member-name-link">commit</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Commit this <code>Transaction</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getApproximateSize()" class="member-name-link">getApproximateSize</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns a future that will contain the approximated size of the commit, which is the
 summation of mutations, read conflict ranges, and write conflict ranges.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getCommittedVersion()" class="member-name-link">getCommittedVersion</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets the version number at which a successful commit modified the database.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Database.html" title="interface in com.apple.foundationdb">Database</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getDatabase()" class="member-name-link">getDatabase</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the <a href="Database.html" title="interface in com.apple.foundationdb"><code>Database</code></a> that this <code>Transaction</code> is interacting
 with.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;byte[]&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getVersionstamp()" class="member-name-link">getVersionstamp</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns a future which will contain the versionstamp which was used by any versionstamp 
 operations in this transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#mutate(com.apple.foundationdb.MutationType,byte%5B%5D,byte%5B%5D)" class="member-name-link">mutate</a><wbr>(<a href="MutationType.html" title="enum class in com.apple.foundationdb">MutationType</a>&nbsp;optype,
 byte[]&nbsp;key,
 byte[]&nbsp;param)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">An atomic operation is a single database command that carries out several
 logical steps: reading the value of a key, performing a transformation on
 that value, and writing the result.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="Transaction.html" title="interface in com.apple.foundationdb">Transaction</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onError(java.lang.Throwable)" class="member-name-link">onError</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;e)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Resets a transaction and returns a delayed signal for error recovery.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;T&gt;&nbsp;T</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#run(java.util.function.Function)" class="member-name-link">run</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;? super <a href="Transaction.html" title="interface in com.apple.foundationdb">Transaction</a>,<wbr>T&gt;&nbsp;retryable)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Run a function once against this <code>Transaction</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;T&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;T&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#runAsync(java.util.function.Function)" class="member-name-link">runAsync</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;? super <a href="Transaction.html" title="interface in com.apple.foundationdb">Transaction</a>,<wbr>? extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;T&gt;&gt;&nbsp;retryable)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Run a function once against this <code>Transaction</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#set(byte%5B%5D,byte%5B%5D)" class="member-name-link">set</a><wbr>(byte[]&nbsp;key,
 byte[]&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Sets the value for a given key.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#watch(byte%5B%5D)" class="member-name-link">watch</a><wbr>(byte[]&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Creates a watch that will become ready when it reports a change to
 the value of the specified key.<br>
 <br>
 A watch's behavior is relative to the transaction that created it.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-com.apple.foundationdb.ReadTransaction">Methods inherited from interface&nbsp;com.apple.foundationdb.<a href="ReadTransaction.html" title="interface in com.apple.foundationdb">ReadTransaction</a></h3>
<code><a href="ReadTransaction.html#addReadConflictKeyIfNotSnapshot(byte%5B%5D)">addReadConflictKeyIfNotSnapshot</a>, <a href="ReadTransaction.html#addReadConflictRangeIfNotSnapshot(byte%5B%5D,byte%5B%5D)">addReadConflictRangeIfNotSnapshot</a>, <a href="ReadTransaction.html#get(byte%5B%5D)">get</a>, <a href="ReadTransaction.html#getBlobGranuleRanges(byte%5B%5D,byte%5B%5D,int)">getBlobGranuleRanges</a>, <a href="ReadTransaction.html#getEstimatedRangeSizeBytes(byte%5B%5D,byte%5B%5D)">getEstimatedRangeSizeBytes</a>, <a href="ReadTransaction.html#getEstimatedRangeSizeBytes(com.apple.foundationdb.Range)">getEstimatedRangeSizeBytes</a>, <a href="ReadTransaction.html#getKey(com.apple.foundationdb.KeySelector)">getKey</a>, <a href="ReadTransaction.html#getMappedRange(com.apple.foundationdb.KeySelector,com.apple.foundationdb.KeySelector,byte%5B%5D,int,boolean,com.apple.foundationdb.StreamingMode)">getMappedRange</a>, <a href="ReadTransaction.html#getRange(byte%5B%5D,byte%5B%5D)">getRange</a>, <a href="ReadTransaction.html#getRange(byte%5B%5D,byte%5B%5D,int)">getRange</a>, <a href="ReadTransaction.html#getRange(byte%5B%5D,byte%5B%5D,int,boolean)">getRange</a>, <a href="ReadTransaction.html#getRange(byte%5B%5D,byte%5B%5D,int,boolean,com.apple.foundationdb.StreamingMode)">getRange</a>, <a href="ReadTransaction.html#getRange(com.apple.foundationdb.KeySelector,com.apple.foundationdb.KeySelector)">getRange</a>, <a href="ReadTransaction.html#getRange(com.apple.foundationdb.KeySelector,com.apple.foundationdb.KeySelector,int)">getRange</a>, <a href="ReadTransaction.html#getRange(com.apple.foundationdb.KeySelector,com.apple.foundationdb.KeySelector,int,boolean)">getRange</a>, <a href="ReadTransaction.html#getRange(com.apple.foundationdb.KeySelector,com.apple.foundationdb.KeySelector,int,boolean,com.apple.foundationdb.StreamingMode)">getRange</a>, <a href="ReadTransaction.html#getRange(com.apple.foundationdb.Range)">getRange</a>, <a href="ReadTransaction.html#getRange(com.apple.foundationdb.Range,int)">getRange</a>, <a href="ReadTransaction.html#getRange(com.apple.foundationdb.Range,int,boolean)">getRange</a>, <a href="ReadTransaction.html#getRange(com.apple.foundationdb.Range,int,boolean,com.apple.foundationdb.StreamingMode)">getRange</a>, <a href="ReadTransaction.html#getRangeSplitPoints(byte%5B%5D,byte%5B%5D,long)">getRangeSplitPoints</a>, <a href="ReadTransaction.html#getRangeSplitPoints(com.apple.foundationdb.Range,long)">getRangeSplitPoints</a>, <a href="ReadTransaction.html#getReadVersion()">getReadVersion</a>, <a href="ReadTransaction.html#isSnapshot()">isSnapshot</a>, <a href="ReadTransaction.html#options()">options</a>, <a href="ReadTransaction.html#setReadVersion(long)">setReadVersion</a>, <a href="ReadTransaction.html#snapshot()">snapshot</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-com.apple.foundationdb.ReadTransactionContext">Methods inherited from interface&nbsp;com.apple.foundationdb.<a href="ReadTransactionContext.html" title="interface in com.apple.foundationdb">ReadTransactionContext</a></h3>
<code><a href="ReadTransactionContext.html#getExecutor()">getExecutor</a>, <a href="ReadTransactionContext.html#read(java.util.function.Function)">read</a>, <a href="ReadTransactionContext.html#readAsync(java.util.function.Function)">readAsync</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="addReadConflictRange(byte[],byte[])">
<h3>addReadConflictRange</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">addReadConflictRange</span><wbr><span class="parameters">(byte[]&nbsp;keyBegin,
 byte[]&nbsp;keyEnd)</span></div>
<div class="block">Adds a range of keys to the transaction's read conflict ranges as if you
 had read the range. As a result, other transactions that write a key in
 this range could cause the transaction to fail with a conflict.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>keyBegin</code> - the first key in the range (inclusive)</dd>
<dd><code>keyEnd</code> - the ending key for the range (exclusive)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addReadConflictKey(byte[])">
<h3>addReadConflictKey</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">addReadConflictKey</span><wbr><span class="parameters">(byte[]&nbsp;key)</span></div>
<div class="block">Adds a key to the transaction's read conflict ranges as if you had read
 the key. As a result, other transactions that concurrently write this key
 could cause the transaction to fail with a conflict.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the key to be added to the read conflict range set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addWriteConflictRange(byte[],byte[])">
<h3>addWriteConflictRange</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">addWriteConflictRange</span><wbr><span class="parameters">(byte[]&nbsp;keyBegin,
 byte[]&nbsp;keyEnd)</span></div>
<div class="block">Adds a range of keys to the transaction's write conflict ranges as if you
 had cleared the range. As a result, other transactions that concurrently
 read a key in this range could fail with a conflict.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>keyBegin</code> - the first key in the range (inclusive)</dd>
<dd><code>keyEnd</code> - the ending key for the range (exclusive)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addWriteConflictKey(byte[])">
<h3>addWriteConflictKey</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">addWriteConflictKey</span><wbr><span class="parameters">(byte[]&nbsp;key)</span></div>
<div class="block">Adds a key to the transaction's write conflict ranges as if you had
 written the key. As a result, other transactions that concurrently read
 this key could fail with a conflict.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the key to be added to the range</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="set(byte[],byte[])">
<h3>set</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">set</span><wbr><span class="parameters">(byte[]&nbsp;key,
 byte[]&nbsp;value)</span></div>
<div class="block">Sets the value for a given key. This will not affect the
 database until <a href="#commit()"><code>commit()</code></a> is called.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the key whose value is to be set</dd>
<dd><code>value</code> - the value to set in the database</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>key</code> or <code>value</code> is <code>null</code></dd>
<dd><code><a href="FDBException.html" title="class in com.apple.foundationdb">FDBException</a></code> - if the set operation otherwise fails</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clear(byte[])">
<h3>clear</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">clear</span><wbr><span class="parameters">(byte[]&nbsp;key)</span></div>
<div class="block">Clears a given key from the database. This will not affect the
 database until <a href="#commit()"><code>commit()</code></a> is called.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the key whose value is to be cleared</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>key</code> is <code>null</code></dd>
<dd><code><a href="FDBException.html" title="class in com.apple.foundationdb">FDBException</a></code> - if clear operation otherwise fails</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clear(byte[],byte[])">
<h3>clear</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">clear</span><wbr><span class="parameters">(byte[]&nbsp;beginKey,
 byte[]&nbsp;endKey)</span></div>
<div class="block">Clears a range of keys in the database.  The upper bound of the range is
  exclusive; that is, the key (if one exists) that is specified as the end
  of the range will NOT be cleared as part of this operation. Range clears are
  efficient with FoundationDB -- clearing large amounts of data will be fast.
  This will not affect the database until <a href="#commit()"><code>commit()</code></a> is called.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>beginKey</code> - the first clear</dd>
<dd><code>endKey</code> - the key one past the last key to clear</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>beginKey</code> or <code>endKey</code> is <code>null</code></dd>
<dd><code><a href="FDBException.html" title="class in com.apple.foundationdb">FDBException</a></code> - if the clear operation otherwise fails</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clear(com.apple.foundationdb.Range)">
<h3>clear</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">clear</span><wbr><span class="parameters">(<a href="Range.html" title="class in com.apple.foundationdb">Range</a>&nbsp;range)</span></div>
<div class="block">Clears a range of keys in the database. The upper bound of the range is
  exclusive; that is, the key (if one exists) that is specified as the end
  of the range will NOT be cleared as part of this operation.  Range clears are
  efficient with FoundationDB -- clearing large amounts of data will be fast.
  However, this will not immediately free up disk - data for the deleted range
  is cleaned up in the background.
  This will not affect the database until <a href="#commit()"><code>commit()</code></a> is called.
  <br>
  For purposes of computing the transaction size, only the begin and end keys of a clear range are counted.
  The size of the data stored in the range does not count against the transaction size limit.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>range</code> - the range of keys to clear</dd>
<dt>Throws:</dt>
<dd><code><a href="FDBException.html" title="class in com.apple.foundationdb">FDBException</a></code> - if the clear operation fails</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clearRangeStartsWith(byte[])">
<h3>clearRangeStartsWith</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="return-type">void</span>&nbsp;<span class="element-name">clearRangeStartsWith</span><wbr><span class="parameters">(byte[]&nbsp;prefix)</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span></div>
<div class="block">Replace with calls to <a href="#clear(com.apple.foundationdb.Range)"><code>clear(Range)</code></a> with a parameter from a call to
  <a href="Range.html#startsWith(byte%5B%5D)"><code>Range.startsWith(byte[])</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>prefix</code> - the starting bytes from the keys to be cleared.</dd>
<dt>Throws:</dt>
<dd><code><a href="FDBException.html" title="class in com.apple.foundationdb">FDBException</a></code> - if the clear-range operation fails</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="mutate(com.apple.foundationdb.MutationType,byte[],byte[])">
<h3>mutate</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">mutate</span><wbr><span class="parameters">(<a href="MutationType.html" title="enum class in com.apple.foundationdb">MutationType</a>&nbsp;optype,
 byte[]&nbsp;key,
 byte[]&nbsp;param)</span></div>
<div class="block">An atomic operation is a single database command that carries out several
 logical steps: reading the value of a key, performing a transformation on
 that value, and writing the result. Different atomic operations perform
 different transformations. Like other database operations, an atomic
 operation is used within a transaction.<br>
 <br>
 Atomic operations do not expose the current value of the key to the client
 but simply send the database the transformation to apply. In regard to
 conflict checking, an atomic operation is equivalent to a write without a
 read. It can only cause other transactions performing reads of the key
 to conflict.<br>
 <br>
 By combining these logical steps into a single, read-free operation,
 FoundationDB can guarantee that the transaction will not conflict due to
 the operation. This makes atomic operations ideal for operating on keys
 that are frequently modified. A common example is the use of a key-value
 pair as a counter.<br>
 <br>
 <b>Note:</b> If a transaction uses both an atomic operation and a serializable
 read on the same key, the benefits of using the atomic operation (for both
 conflict checking and performance) are lost.

 The behavior of each <a href="MutationType.html" title="enum class in com.apple.foundationdb"><code>MutationType</code></a> is documented at its definition.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>optype</code> - the operation to perform</dd>
<dd><code>key</code> - the target of the operation</dd>
<dd><code>param</code> - the value with which to modify the key</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="commit()">
<h3>commit</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">commit</span>()</div>
<div class="block">Commit this <code>Transaction</code>. See notes in class description. Consider using
  <code>Database</code>'s <a href="Database.html#run(java.util.function.Function)"><code>run()</code></a> calls for managing
  transactional access to FoundationDB.

 <p>
 As with other client/server databases, in some failure scenarios a client may
  be unable to determine whether a transaction succeeded. In these cases, an
  <a href="FDBException.html" title="class in com.apple.foundationdb"><code>FDBException</code></a> will be thrown with error code <code>commit_unknown_result</code> (1021).
  The <a href="#onError(java.lang.Throwable)"><code>onError(java.lang.Throwable)</code></a> function regards this exception as a retryable one, so
  retry loops that don't specifically detect <code>commit_unknown_result</code> could end
  up executing a transaction twice. For more information, see the FoundationDB
  Developer Guide documentation.
 </p>

 <p>
 If any operation is performed on a transaction after a commit has been
  issued but before it has returned, both the commit and the operation will
  throw an error code <code>used_during_commit</code> (2017). In this case, all
  subsequent operations on this transaction will throw this error.
 </p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a <code>CompletableFuture</code> that, when set without error, guarantees the
  <code>Transaction</code>'s modifications committed durably to the
  database. If the commit failed, it will throw an <a href="FDBException.html" title="class in com.apple.foundationdb"><code>FDBException</code></a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCommittedVersion()">
<h3>getCommittedVersion</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></span>&nbsp;<span class="element-name">getCommittedVersion</span>()</div>
<div class="block">Gets the version number at which a successful commit modified the database.
 This must be called only after the successful (non-error) completion of a call
 to <a href="#commit()"><code>commit()</code></a> on this <code>Transaction</code>, or the behavior is undefined.
 Read-only transactions do not modify the database when committed and will have
 a committed version of -1. Keep in mind that a transaction which reads keys and
 then sets them to their current values may be optimized to a read-only transaction.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the database version at which the commit succeeded</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getVersionstamp()">
<h3>getVersionstamp</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;byte[]&gt;</span>&nbsp;<span class="element-name">getVersionstamp</span>()</div>
<div class="block">Returns a future which will contain the versionstamp which was used by any versionstamp 
 operations in this transaction. The future will be ready only after the successful 
 completion of a call to <a href="#commit()"><code>commit()</code></a> on this <code>Transaction</code>. Read-only 
 transactions do not modify the database when committed and will result in the future 
 completing with an error. Keep in mind that a transaction which reads keys and then sets 
 them to their current values may be optimized to a read-only transaction.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a future containing the versionstamp which was used for any versionstamp operations 
 in this transaction</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getApproximateSize()">
<h3>getApproximateSize</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</span>&nbsp;<span class="element-name">getApproximateSize</span>()</div>
<div class="block">Returns a future that will contain the approximated size of the commit, which is the
 summation of mutations, read conflict ranges, and write conflict ranges. This can be
 called multiple times before transaction commit.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a future that will contain the approximated size of the commit.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onError(java.lang.Throwable)">
<h3>onError</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="Transaction.html" title="interface in com.apple.foundationdb">Transaction</a>&gt;</span>&nbsp;<span class="element-name">onError</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;e)</span></div>
<div class="block">Resets a transaction and returns a delayed signal for error recovery.  If the error
  encountered by the <code>Transaction</code> could not be recovered from, the returned
  <code>CompletableFuture</code> will be set to an error state.

 The current <code>Transaction</code> object will be invalidated by this call and will throw errors
  when used. The newly reset <code>Transaction</code> will be returned through the <code>CompletableFuture</code>
  if the error was retryable.

 If the error is not retryable, then no reset <code>Transaction</code> is returned, leaving this
  <code>Transaction</code> permanently invalidated.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>e</code> - the error caught while executing get()s and set()s on this <code>Transaction</code></dd>
<dt>Returns:</dt>
<dd>a <code>CompletableFuture</code> to be set with a reset <code>Transaction</code> object to retry the transaction</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cancel()">
<h3>cancel</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">cancel</span>()</div>
<div class="block">Cancels the <code>Transaction</code>. All pending and any future uses of the
  <code>Transaction</code> will throw an <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link"><code>RuntimeException</code></a>.</div>
</section>
</li>
<li>
<section class="detail" id="watch(byte[])">
<h3>watch</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">watch</span><wbr><span class="parameters">(byte[]&nbsp;key)</span>
                       throws <span class="exceptions"><a href="FDBException.html" title="class in com.apple.foundationdb">FDBException</a></span></div>
<div class="block">Creates a watch that will become ready when it reports a change to
 the value of the specified key.<br>
 <br>
 A watch's behavior is relative to the transaction that created it. A
 watch will report a change in relation to the key's value as readable by
 that transaction. The initial value used for comparison is either that of
 the transaction's read version or the value as modified by the transaction
 itself prior to the creation of the watch. If the value changes and then
 changes back to its initial value, the watch might not report the change.<br>
 <br>
 Until the transaction that created it has been committed, a watch will
 not report changes made by other transactions. In contrast, a watch
 will immediately report changes made by the transaction itself. Watches
 cannot be created if the transaction has set
 <a href="TransactionOptions.html#setReadYourWritesDisable()"><code>TransactionOptions.setReadYourWritesDisable()</code></a>, and an attempt to do
 so will raise a <code>watches_disabled</code> exception.<br>
 <br>
 If the transaction used to create a watch encounters an exception during
 commit, then the watch will be set with that exception. A transaction whose
 commit result is unknown will set all of its watches with the
 <code>commit_unknown_result</code> exception. If an uncommitted transaction is
 reset via <a href="#onError(java.lang.Throwable)"><code>onError(java.lang.Throwable)</code></a> or destroyed, then any watches it created will be set
 with the <code>transaction_cancelled</code> exception.<br>
 <br>
 By default, each database connection can have no more than 10,000 watches
 that have not yet reported a change. When this number is exceeded, an
 attempt to create a watch will raise a <code>too_many_watches</code> exception.
 Because a watch outlives the transaction that creates it, any watch that is no
 longer needed should be cancelled.<br>
 <br>
 <b>NOTE:</b> calling code <i>must</i> call <a href="#commit()"><code>commit()</code></a> for
  the watch to be registered with the database.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the key to watch for changes in value</dd>
<dt>Returns:</dt>
<dd>a <code>CompletableFuture</code> that will become ready when the value changes</dd>
<dt>Throws:</dt>
<dd><code><a href="FDBException.html" title="class in com.apple.foundationdb">FDBException</a></code> - if too many watches have been created on this database. The
  limit defaults to 10,000 and can be modified with a call to
  <a href="DatabaseOptions.html#setMaxWatches(long)"><code>DatabaseOptions.setMaxWatches(long)</code></a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDatabase()">
<h3>getDatabase</h3>
<div class="member-signature"><span class="return-type"><a href="Database.html" title="interface in com.apple.foundationdb">Database</a></span>&nbsp;<span class="element-name">getDatabase</span>()</div>
<div class="block">Returns the <a href="Database.html" title="interface in com.apple.foundationdb"><code>Database</code></a> that this <code>Transaction</code> is interacting
 with.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the <a href="Database.html" title="interface in com.apple.foundationdb"><code>Database</code></a> object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="run(java.util.function.Function)">
<h3>run</h3>
<div class="member-signature"><span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name">run</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;? super <a href="Transaction.html" title="interface in com.apple.foundationdb">Transaction</a>,<wbr>T&gt;&nbsp;retryable)</span></div>
<div class="block">Run a function once against this <code>Transaction</code>. This call blocks while
  user code is executing, returning the result of that code on completion.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="TransactionContext.html#run(java.util.function.Function)">run</a></code>&nbsp;in interface&nbsp;<code><a href="TransactionContext.html" title="interface in com.apple.foundationdb">TransactionContext</a></code></dd>
<dt>Type Parameters:</dt>
<dd><code>T</code> - the return type of <code>retryable</code></dd>
<dt>Parameters:</dt>
<dd><code>retryable</code> - the block of logic to execute against this <code>Transaction</code></dd>
<dt>Returns:</dt>
<dd>a result of the single call to <code>retryable</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="runAsync(java.util.function.Function)">
<h3>runAsync</h3>
<div class="member-signature"><span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;T&gt;</span>&nbsp;<span class="element-name">runAsync</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;? super <a href="Transaction.html" title="interface in com.apple.foundationdb">Transaction</a>,<wbr>? extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;T&gt;&gt;&nbsp;retryable)</span></div>
<div class="block">Run a function once against this <code>Transaction</code>. This call returns
  immediately with a <code>CompletableFuture</code> handle to the result.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="TransactionContext.html#runAsync(java.util.function.Function)">runAsync</a></code>&nbsp;in interface&nbsp;<code><a href="TransactionContext.html" title="interface in com.apple.foundationdb">TransactionContext</a></code></dd>
<dt>Type Parameters:</dt>
<dd><code>T</code> - the return type of <code>retryable</code></dd>
<dt>Parameters:</dt>
<dd><code>retryable</code> - the block of logic to execute against this <code>Transaction</code></dd>
<dt>Returns:</dt>
<dd>a <code>CompletableFuture</code> that will be set to the return value of <code>retryable</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block">Close the <code>Transaction</code> object and release any associated resources. This must be called at
  least once after the <code>Transaction</code> object is no longer in use. This can be called multiple
  times, but care should be taken that it is not in use in another thread at the time of the call.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html#close()" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
