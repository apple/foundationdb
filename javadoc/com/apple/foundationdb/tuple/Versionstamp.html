<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Sat Sep 13 01:33:40 UTC 2025 -->
<title>Versionstamp</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-09-13">
<meta name="description" content="declaration: package: com.apple.foundationdb.tuple, class: Versionstamp">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.apple.foundationdb.tuple</a></div>
<h1 title="Class Versionstamp" class="title">Class Versionstamp</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.apple.foundationdb.tuple.Versionstamp</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html" title="class or interface in java.lang" class="external-link">Comparable</a>&lt;<a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a>&gt;</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">Versionstamp</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html" title="class or interface in java.lang" class="external-link">Comparable</a>&lt;<a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a>&gt;</span></div>
<div class="block">Used to represent values written by versionstamp operations with a <a href="Tuple.html" title="class in com.apple.foundationdb.tuple"><code>Tuple</code></a>.
  This wraps a single array which should contain twelve bytes. The first ten bytes
  are the "transaction" version, and they are usually assigned by the database
  in such a way that all transactions receive a different version that is consistent
  with a serialization order of the transactions within the database. (One can
  use the <a href="../Transaction.html#getVersionstamp()"><code>Transaction.getVersionstamp()</code></a>
  method to retrieve this version from a <code>Transaction</code>.) This also implies that the
  transaction version of newly committed transactions will be monotonically increasing
  over time. The final two bytes are the "user" version and should be set by the client.
  This allows the user to use this class to impose a total order of items across multiple
  transactions in the database in a consistent and conflict-free way. The user can elect to
  ignore this parameter by instantiating the class with the parameterless <a href="#incomplete()"><code>incomplete()</code></a>
  and one-parameter <a href="#complete(byte%5B%5D)"><code>complete</code></a> static initializers. If they do so,
  then versions are written with a default (constant) user version.

 <p>
 All <code>Versionstamp</code>s can exist in one of two states: "incomplete" and "complete".
  An "incomplete" <code>Versionstamp</code> is a <code>Versionstamp</code> that has not been
  initialized with a meaningful transaction version. For example, this might be used
  with a <code>Versionstamp</code> that one wants to fill in with the current transaction's
  version information. A "complete" <code>Versionstamp</code>, in contradistinction, is one
  that <i>has</i> been assigned a meaningful transaction version. This is usually the
  case if one is reading back a <code>Versionstamp</code> from the database.
 </p>

 <p>
 Example usage might be to do something like the following:
 </p>

 <pre>
 <code>
  CompletableFuture&lt;byte[]&gt; trVersionFuture = db.run((Transaction tr) -&gt; {
       // The incomplete Versionstamp will be overwritten with tr's version information when committed.
       Tuple t = Tuple.from("prefix", Versionstamp.incomplete());
       tr.mutate(MutationType.SET_VERSIONSTAMPED_KEY, t.packWithVersionstamp(), new byte[0]);
       return tr.getVersionstamp();
   });

   byte[] trVersion = trVersionFuture.get();

   Versionstamp v = db.run((Transaction tr) -&gt; {
       Subspace subspace = new Subspace(Tuple.from("prefix"));
       byte[] serialized = tr.getRange(subspace.range(), 1).iterator().next().getKey();
       Tuple t = subspace.unpack(serialized);
       return t.getVersionstamp(0);
   });

   assert v.equals(Versionstamp.complete(trVersion));
 </code>
 </pre>

 <p>
 Here, an incomplete <code>Versionstamp</code> is packed and written to the database with
  the <a href="../MutationType.html#SET_VERSIONSTAMPED_KEY"><code>SET_VERSIONSTAMPED_KEY</code></a>
  <code>MutationType</code>. After committing, we then attempt to read back the same key that
  we just wrote. Then we verify the invariant that the deserialized <a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple"><code>Versionstamp</code></a> is
  the same as a complete <code>Versionstamp</code> instance created from the first transaction's
  version information.
 </p></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#LENGTH" class="member-name-link">LENGTH</a></code></div>
<div class="col-last even-row-color">
<div class="block">Length of a serialized <code>Versionstamp</code> instance when converted into a byte array.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#compareTo(com.apple.foundationdb.tuple.Versionstamp)" class="member-name-link">compareTo</a><wbr>(<a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a>&nbsp;other)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Compares two <code>Versionstamp</code> instances in a manner consistent with their
  key order when serialized in the database as keys.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#complete(byte%5B%5D)" class="member-name-link">complete</a><wbr>(byte[]&nbsp;trVersion)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a complete <code>Versionstamp</code> instance with the given
  transaction and default user versions.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#complete(byte%5B%5D,int)" class="member-name-link">complete</a><wbr>(byte[]&nbsp;trVersion,
 int&nbsp;userVersion)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a complete <code>Versionstamp</code> instance with the given
  transaction and user versions.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#equals(java.lang.Object)" class="member-name-link">equals</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;o)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check another object for equality.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#fromBytes(byte%5B%5D)" class="member-name-link">fromBytes</a><wbr>(byte[]&nbsp;versionBytes)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a <code>Versionstamp</code> instance based on the given byte array
  representation.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>byte[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getBytes()" class="member-name-link">getBytes</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieve a byte-array representation of this <code>Versionstamp</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>byte[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTransactionVersion()" class="member-name-link">getTransactionVersion</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieve the portion of this <code>Versionstamp</code> that is set by
  the database.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUserVersion()" class="member-name-link">getUserVersion</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieve the portion of this <code>Versionstamp</code> that is set
  by the user.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hashCode()" class="member-name-link">hashCode</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Hash code for this <code>Versionstamp</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#incomplete()" class="member-name-link">incomplete</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates an incomplete <code>Versionstamp</code> instance with the default user
  version.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#incomplete(int)" class="member-name-link">incomplete</a><wbr>(int&nbsp;userVersion)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates an incomplete <code>Versionstamp</code> instance with the given
  user version.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isComplete()" class="member-name-link">isComplete</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Whether this <code>Versionstamp</code>'s transaction version is
  meaningful.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Generate a human-readable representation of this <code>Versionstamp</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#unpackUserVersion(byte%5B%5D,int)" class="member-name-link">unpackUserVersion</a><wbr>(byte[]&nbsp;bytes,
 int&nbsp;pos)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">From a byte array, unpack the user version starting at the given position.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="LENGTH">
<h3>LENGTH</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">LENGTH</span></div>
<div class="block">Length of a serialized <code>Versionstamp</code> instance when converted into a byte array.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#com.apple.foundationdb.tuple.Versionstamp.LENGTH">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="unpackUserVersion(byte[],int)">
<h3>unpackUserVersion</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">unpackUserVersion</span><wbr><span class="parameters">(byte[]&nbsp;bytes,
 int&nbsp;pos)</span></div>
<div class="block">From a byte array, unpack the user version starting at the given position.
  This assumes that the bytes are stored in big-endian order as an unsigned
  short, which is the way the user version is serialized in packed <code>Versionstamp</code>s.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>bytes</code> - byte array including user version</dd>
<dd><code>pos</code> - starting position of user version</dd>
<dt>Returns:</dt>
<dd>the unpacked user version included in the array</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="fromBytes(byte[])">
<h3>fromBytes</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></span>&nbsp;<span class="element-name">fromBytes</span><wbr><span class="parameters">(byte[]&nbsp;versionBytes)</span></div>
<div class="block">Creates a <code>Versionstamp</code> instance based on the given byte array
  representation. This follows the same format as that used by
  the main constructor, but the completeness of the <code>Versionstamp</code>
  is instead automatically determined by comparing its transaction version
  with the value used to indicate an unset transaction version.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>versionBytes</code> - byte array representation of <code>Versionstamp</code></dd>
<dt>Returns:</dt>
<dd>equivalent instantiated <code>Versionstamp</code> object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="incomplete(int)">
<h3>incomplete</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></span>&nbsp;<span class="element-name">incomplete</span><wbr><span class="parameters">(int&nbsp;userVersion)</span></div>
<div class="block">Creates an incomplete <code>Versionstamp</code> instance with the given
  user version. The provided user version must fit within an unsigned
  short. When converted into a byte array, the bytes for the transaction
  version will be filled in with dummy bytes to be later filled
  in at transaction commit time.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userVersion</code> - intra-transaction portion of version (set by user code)</dd>
<dt>Returns:</dt>
<dd>an incomplete <code>Versionstamp</code> with the given user version</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="incomplete()">
<h3>incomplete</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></span>&nbsp;<span class="element-name">incomplete</span>()</div>
<div class="block">Creates an incomplete <code>Versionstamp</code> instance with the default user
  version. When converted into a byte array, the bytes for the transaction
  version will be filled in with dummy bytes to be later filled in at
  transaction commit time. If multiple keys are created using the returned
  <code>Versionstamp</code> within the same transaction, then all of those
  keys will have the same version, but it will provide an ordering between
  different transactions if that is all that is required.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an incomplete <code>Versionstamp</code> with the default user version</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="complete(byte[],int)">
<h3>complete</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></span>&nbsp;<span class="element-name">complete</span><wbr><span class="parameters">(byte[]&nbsp;trVersion,
 int&nbsp;userVersion)</span></div>
<div class="block">Creates a complete <code>Versionstamp</code> instance with the given
  transaction and user versions. The provided transaction version must have
  exactly 10 bytes, and the user version must fit within an unsigned
  short.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>trVersion</code> - inter-transaction portion of version (set by the database)</dd>
<dd><code>userVersion</code> - intra-transaction portion of version (set by user code)</dd>
<dt>Returns:</dt>
<dd>a complete <code>Versionstamp</code> assembled from the given parts</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="complete(byte[])">
<h3>complete</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></span>&nbsp;<span class="element-name">complete</span><wbr><span class="parameters">(byte[]&nbsp;trVersion)</span></div>
<div class="block">Creates a complete <code>Versionstamp</code> instance with the given
  transaction and default user versions. The provided transaction version
  must have exactly 10 bytes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>trVersion</code> - inter-transaction portion of version (set by the database)</dd>
<dt>Returns:</dt>
<dd>a complete <code>Versionstamp</code> assembled from the given transaction
        version and the default user version</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isComplete()">
<h3>isComplete</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isComplete</span>()</div>
<div class="block">Whether this <code>Versionstamp</code>'s transaction version is
  meaningful. The database will assign each transaction a different transaction
  version. A <code>Versionstamp</code> is considered to be "complete" if its
  transaction version is one of those database-assigned versions rather than
  just dummy bytes. If one uses this class with our
  <a href="../MutationType.html#SET_VERSIONSTAMPED_KEY"><code>SET_VERSIONSTAMPED_KEY</code></a>
  mutation, then the appropriate bytes will be filled in within the database
  during a successful commit.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>whether the transaction version has been set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getBytes()">
<h3>getBytes</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">getBytes</span>()</div>
<div class="block">Retrieve a byte-array representation of this <code>Versionstamp</code>.
  This representation can then be serialized and added to the database.
  If this <code>Versionstamp</code> is not complete, the first 10 bytes (representing the
  transaction version) will not be meaningful and one should probably use with the
  <a href="../MutationType.html#SET_VERSIONSTAMPED_KEY"><code>SET_VERSIONSTAMPED_KEY</code></a>
  mutation.

 <b>Warning:</b> For performance reasons, this method does not create a copy of
  its underlying data array. As a result, it is dangerous to modify the
  return value of this function.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>byte representation of this <code>Versionstamp</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTransactionVersion()">
<h3>getTransactionVersion</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">getTransactionVersion</span>()</div>
<div class="block">Retrieve the portion of this <code>Versionstamp</code> that is set by
  the database. These 10 bytes are what provide an ordering between different commits.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>transaction version of this <code>Versionstamp</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUserVersion()">
<h3>getUserVersion</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getUserVersion</span>()</div>
<div class="block">Retrieve the portion of this <code>Versionstamp</code> that is set
  by the user. This integer is what provides an ordering within
  a single commit.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>user version of this <code>Versionstamp</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<div class="block">Generate a human-readable representation of this <code>Versionstamp</code>. It contains
  information as to whether this <code>Versionstamp</code> is incomplete or not, what
  its transaction version is (if the <code>Versionstamp</code> is complete), and what its
  user version is.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Returns:</dt>
<dd>a human-readable representation of this <code>Versionstamp</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="compareTo(com.apple.foundationdb.tuple.Versionstamp)">
<h3>compareTo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">compareTo</span><wbr><span class="parameters">(<a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a>&nbsp;other)</span></div>
<div class="block">Compares two <code>Versionstamp</code> instances in a manner consistent with their
  key order when serialized in the database as keys. The rules for comparison are:

 <ul>
     <li>All complete <code>Versionstamp</code>s sort before incomplete <code>Versionstamp</code>s</li>
     <li>
         Two complete <code>Versionstamp</code>s will sort based on unsigned lexicographic comparison
         of their byte representations.
     </li>
     <li>Two incomplete <code>Versionstamp</code>s will sort based on their user versions.</li>
 </ul></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html#compareTo(T)" title="class or interface in java.lang" class="external-link">compareTo</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html" title="class or interface in java.lang" class="external-link">Comparable</a>&lt;<a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>other</code> - <code>Versionstamp</code> instance to compare against</dd>
<dt>Returns:</dt>
<dd>-1 if this <code>Versionstamp</code> is smaller than <code>other</code>, 1 if it is bigger, and
  0 if it is equal</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="equals(java.lang.Object)">
<h3>equals</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">equals</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;o)</span></div>
<div class="block">Check another object for equality. This will return <code>true</code> if and only
  if the <code>o</code> parameter is of type <code>Versionstamp</code> and has
  the same completion status and byte representation.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Parameters:</dt>
<dd><code>o</code> - object to compare for equality</dd>
<dt>Returns:</dt>
<dd>whether the passed object is an equivalent <code>Versionstamp</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hashCode()">
<h3>hashCode</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">hashCode</span>()</div>
<div class="block">Hash code for this <code>Versionstamp</code>. It is based off of the hash
  code for the underlying data array.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Returns:</dt>
<dd>hash-table compliant hash code for this instance</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
