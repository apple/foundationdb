<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Managing Large Values and Blobs &#8212; FoundationDB ON documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-sphinx.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Time-Series Data" href="time-series.html" />
    <link rel="prev" title="Class Scheduling in Go" href="class-scheduling-go.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          FoundationDB</a>
        <span class="navbar-text navbar-version pull-left"><b>7.4.3</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="contents.html">Site Map</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Managing Large Values and Blobs</a><ul>
<li><a class="reference internal" href="#modeling-large-values">Modeling large values</a><ul>
<li><a class="reference internal" href="#splitting-structured-values">Splitting structured values</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="class-scheduling-go.html" title="Previous Chapter: Class Scheduling in Go"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Class Schedul...</span>
    </a>
  </li>
  <li>
    <a href="time-series.html" title="Next Chapter: Time-Series Data"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Time-Series Data &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Managing Large Values and Blobs</a><ul>
<li><a class="reference internal" href="#modeling-large-values">Modeling large values</a><ul>
<li><a class="reference internal" href="#splitting-structured-values">Splitting structured values</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <section id="managing-large-values-and-blobs">
<h1>Managing Large Values and Blobs</h1>
<p>This tutorial illustrates techniques for storing and managing large values in FoundationDB. We’ll look at using the blob (binary large object) layer, which provides a simple interface for storing unstructured data. We’ll be drawing on <a class="reference internal" href="data-modeling.html"><span class="doc">Data Modeling</span></a> and <a class="reference internal" href="api-python.html"><span class="doc">Python API</span></a>, so you should take a look at those documents if you’re not familiar with them.</p>
<p>For an introductory tutorial that begins with “Hello world” and explains the basic concepts used in FoundationDB, take a look at our <a class="reference internal" href="class-scheduling.html"><span class="doc">class scheduling tutorial</span></a>.</p>
<p>Although we’ll be using Python, the concepts in this tutorial are also applicable to the other <a class="reference internal" href="api-reference.html"><span class="doc">languages</span></a> supported by FoundationDB.</p>
<section id="modeling-large-values">
<span id="largeval-modeling"></span><h2>Modeling large values</h2>
<p>For key-value pairs stored in FoundationDB, values are limited to a size of 100 kB (see <a class="reference internal" href="known-limitations.html#large-keys-and-values"><span class="std std-ref">Known Limitations</span></a>). Furthermore, you’ll usually get the best performance by keeping value sizes below 10 kb, as discussed in our <a class="reference internal" href="data-modeling.html#data-modeling-performance-guidelines"><span class="std std-ref">performance guidelines</span></a>.</p>
<section id="splitting-structured-values">
<span id="largeval-splitting"></span><h3>Splitting structured values</h3>
<p>These factors lead to an obvious question: what should you do if your first cut at a data model results in values that are larger than those allowed by the above guidelines?</p>
<p>The answer depends on the nature and size of your values. If your values have some internal structure, consider revising your data model to split the values across multiple keys. For example, suppose you’d like to store a serialized JSON object. Instead of storing the object as the value of a single key, you could construct a key for each path in the object, as described for <a class="reference internal" href="data-modeling.html#data-modeling-documents"><span class="std std-ref">documents</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In general, you should consider splitting your values if their sizes are above 10kb, or if they are above 1kb and you only use a part of each value after reading it.</p>
</div>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/largeval.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2013-2022 Apple, Inc and the FoundationDB project authors.<br/>
      Last updated on Jun 12, 2025.<br/>
    </p>
  </div>
</footer>
  </body>
</html>