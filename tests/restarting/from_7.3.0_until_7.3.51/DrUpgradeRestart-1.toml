[configuration]
extraDatabaseMode = "Local"
# In 7.2, DR is not supported in required tenant mode
allowDefaultTenant = false
encryptModes = ['disabled']
# For ShardedRocksDB, an very old 7.3 binary is not compatible to the new binary
storageEngineExcludeTypes = [4, 5]

[[knobs]]
# For ShardEncodeLocationMetadata, an very old 7.3 binary is not compatible to the new binary
shard_encode_location_metadata = false

[[test]]
testTitle = "DrUpgrade"
clearAfterTest = false
simBackupAgents = "BackupToDB"

    [[test.workload]]
    testName = "Cycle"
    nodeCount = 30000
    transactionsPerSecond = 2500.0
    testDuration = 30.0
    expectedRate = 0

    [[test.workload]]
    testName = "BackupToDBUpgrade"
    backupAfter = 10.0
    stopDifferentialAfter = 50.0
    backupRangesCount = -1

    [[test.workload]]
    testName = "SaveAndKill"
    restartInfoLocation = "simfdb/restartInfo.ini"
    testDuration = 40.0
