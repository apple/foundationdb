<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Release Notes &#8212; FoundationDB 7.1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.4/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.4/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.1.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Release Notes" href="release-notes-700.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          FoundationDB</a>
        <span class="navbar-text navbar-version pull-left"><b>7.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../contents.html">Site Map</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Release Notes</a><ul>
<li><a class="reference internal" href="#id2">7.1.5</a></li>
<li><a class="reference internal" href="#id3">7.1.4</a></li>
<li><a class="reference internal" href="#id4">7.1.3</a></li>
<li><a class="reference internal" href="#id5">7.1.2</a></li>
<li><a class="reference internal" href="#id6">7.1.1</a></li>
<li><a class="reference internal" href="#id7">7.1.0</a><ul>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#performance">Performance</a></li>
<li><a class="reference internal" href="#reliability">Reliability</a></li>
<li><a class="reference internal" href="#fixes">Fixes</a></li>
<li><a class="reference internal" href="#status">Status</a></li>
<li><a class="reference internal" href="#bindings">Bindings</a></li>
<li><a class="reference internal" href="#other-changes">Other Changes</a></li>
<li><a class="reference internal" href="#earlier-release-notes">Earlier release notes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="release-notes-700.html" title="Previous Chapter: Release Notes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Release Notes</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Release Notes</a><ul>
<li><a class="reference internal" href="#id2">7.1.5</a></li>
<li><a class="reference internal" href="#id3">7.1.4</a></li>
<li><a class="reference internal" href="#id4">7.1.3</a></li>
<li><a class="reference internal" href="#id5">7.1.2</a></li>
<li><a class="reference internal" href="#id6">7.1.1</a></li>
<li><a class="reference internal" href="#id7">7.1.0</a><ul>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#performance">Performance</a></li>
<li><a class="reference internal" href="#reliability">Reliability</a></li>
<li><a class="reference internal" href="#fixes">Fixes</a></li>
<li><a class="reference internal" href="#status">Status</a></li>
<li><a class="reference internal" href="#bindings">Bindings</a></li>
<li><a class="reference internal" href="#other-changes">Other Changes</a></li>
<li><a class="reference internal" href="#earlier-release-notes">Earlier release notes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="release-notes">
<span id="id1"></span><h1>Release Notes</h1>
<div class="section" id="id2">
<h2>7.1.5</h2>
<ul class="simple">
<li>Fixed a fdbcli kill bug that was not killing in parallel. <a class="reference external" href="https://github.com/apple/foundationdb/pull/7150">(PR #7150)</a></li>
<li>Fixed a bug that prevents a peer from sending messages on a previously incompatible connection. <a class="reference external" href="https://github.com/apple/foundationdb/pull/7124">(PR #7124)</a></li>
<li>Added rocksdb throttling counters to trace event. <a class="reference external" href="https://github.com/apple/foundationdb/pull/7096">(PR #7096)</a></li>
<li>Added a backtrace before throwing serialization_failed. <a class="reference external" href="https://github.com/apple/foundationdb/pull/7155">(PR #7155)</a></li>
</ul>
</div>
<div class="section" id="id3">
<h2>7.1.4</h2>
<ul class="simple">
<li>Fixed a bug that prevents client from connecting to a cluster. <a class="reference external" href="https://github.com/apple/foundationdb/pull/7060">(PR #7060)</a></li>
<li>Fixed a performance bug that overloads Resolver CPU. <a class="reference external" href="https://github.com/apple/foundationdb/pull/7068">(PR #7068)</a></li>
<li>Optimized storage server performance for &#8220;get range and flat map&#8221; feature. <a class="reference external" href="https://github.com/apple/foundationdb/pull/7078">(PR #7078)</a></li>
<li>Optimized both Proxy performance and Resolver (when version vector is enabled) performance. <a class="reference external" href="https://github.com/apple/foundationdb/pull/7076">(PR #7076)</a></li>
<li>Fixed a key size limit bug when using tenants. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6986">(PR #6986)</a></li>
<li>Fixed operation_failed thrown incorrectly from transactions. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6993">(PR #6993)</a></li>
<li>Fixed a version vector bug when GRV cache is used. <a class="reference external" href="https://github.com/apple/foundationdb/pull/7057">(PR #7057)</a></li>
<li>Fixed orphaned storage server due to force recovery. <a class="reference external" href="https://github.com/apple/foundationdb/pull/7028">(PR #7028)</a></li>
<li>Fixed a bug that a storage server reads stale cluster ID. <a class="reference external" href="https://github.com/apple/foundationdb/pull/7026">(PR #7026)</a></li>
<li>Fixed a storage server exclusion status bug that affects wiggling. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6984">(PR #6984)</a></li>
<li>Fixed a bug that relocate shard tasks move data to a removed team. <a class="reference external" href="https://github.com/apple/foundationdb/pull/7023">(PR #7023)</a></li>
<li>Fixed recruitment thrashing when there are temporarily multiple cluster controllers. <a class="reference external" href="https://github.com/apple/foundationdb/pull/7001">(PR #7001)</a></li>
<li>Fixed change feed deletion due to multiple sources race. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6987">(PR #6987)</a></li>
<li>Fixed TLog crash if more TLogs are absent than the replication factor. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6991">(PR #6991)</a></li>
<li>Added hostname DNS resolution logic for cluster connection string. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6998">(PR #6998)</a></li>
<li>Fixed a limit bug in indexPrefetch. <a class="reference external" href="https://github.com/apple/foundationdb/pull/7005">(PR #7005)</a></li>
</ul>
</div>
<div class="section" id="id4">
<h2>7.1.3</h2>
<ul class="simple">
<li>Added logging measuring commit compute duration. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6906">(PR #6906)</a></li>
<li>RocksDb used aggregated property metrics for pending compaction bytes. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6867">(PR #6867)</a></li>
<li>Fixed a perpetual wiggle bug that would not react to a pause. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6933">(PR #6933)</a></li>
<li>Fixed a crash of data distributor. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6938">(PR #6938)</a></li>
<li>Added new c libs to client package. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6921">(PR #6921)</a></li>
<li>Fixed a bug that prevents a cluster from fully recovered state after taking a snapshot. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6892">(PR #6892)</a></li>
</ul>
</div>
<div class="section" id="id5">
<h2>7.1.2</h2>
<ul class="simple">
<li>Fixed failing upgrades due to non-persisted initial cluster version. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6864">(PR #6864)</a></li>
<li>Fixed a client load balancing bug because ClientDBInfo may be unintentionally not set. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6878">(PR #6878)</a></li>
<li>Fixed stuck LogRouter due to races of multiple PeekStream requests. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6870">(PR #6870)</a></li>
<li>Fixed a client-side infinite loop due to provisional GRV Proxy ID not set in GetReadVersionReply. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6849">(PR #6849)</a></li>
</ul>
</div>
<div class="section" id="id6">
<h2>7.1.1</h2>
<ul class="simple">
<li>Added new c libs to client package. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6828">(PR #6828)</a></li>
</ul>
</div>
<div class="section" id="id7">
<h2>7.1.0</h2>
<div class="section" id="features">
<h3>Features</h3>
<ul class="simple">
<li>Added <code class="docutils literal"><span class="pre">USE_GRV_CACHE</span></code> transaction option to allow read versions to be locally cached on the client side for latency optimizations. <a class="reference external" href="https://github.com/apple/foundationdb/pull/5725">(PR #5725)</a> <a class="reference external" href="https://github.com/apple/foundationdb/pull/6664">(PR #6664)</a></li>
<li>Added &#8220;get range and flat map&#8221; feature with new APIs (see Bindings section). Storage servers are able to generate the keys in the queries based on another query. With this, upper layer can push some computations down to FDB, to improve latency and bandwidth when read. <a class="reference external" href="https://github.com/apple/foundationdb/pull/5609">(PR #5609)</a>, <a class="reference external" href="https://github.com/apple/foundationdb/pull/6181">(PR #6181)</a>, etc..</li>
</ul>
</div>
<div class="section" id="performance">
<h3>Performance</h3>
</div>
<div class="section" id="reliability">
<h3>Reliability</h3>
</div>
<div class="section" id="fixes">
<h3>Fixes</h3>
</div>
<div class="section" id="status">
<h3>Status</h3>
<ul class="simple">
<li>Added <code class="docutils literal"><span class="pre">cluster.storage_wiggler</span></code> field report storage wiggle stats <a class="reference external" href="https://github.com/apple/foundationdb/pull/6219">(PR #6219)</a></li>
</ul>
</div>
<div class="section" id="bindings">
<h3>Bindings</h3>
<ul class="simple">
<li>C: Added <code class="docutils literal"><span class="pre">fdb_transaction_get_range_and_flat_map</span></code> function to support running queries based on another query in one request. <a class="reference external" href="https://github.com/apple/foundationdb/pull/5609">(PR #5609)</a></li>
<li>Java: Added <code class="docutils literal"><span class="pre">Transaction.getRangeAndFlatMap</span></code> function to support running queries based on another query in one request. <a class="reference external" href="https://github.com/apple/foundationdb/pull/5609">(PR #5609)</a></li>
</ul>
</div>
<div class="section" id="other-changes">
<h3>Other Changes</h3>
<ul class="simple">
<li>OpenTracing support is now deprecated in favor of OpenTelemetry tracing, which will be enabled in a future release. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6478/files">(PR #6478)</a></li>
<li>Changed <code class="docutils literal"><span class="pre">memory</span></code> option to limit resident memory instead of virtual memory. Added a new <code class="docutils literal"><span class="pre">memory_vsize</span></code> option if limiting virtual memory is desired. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6719">(PR #6719)</a></li>
<li>Change <code class="docutils literal"><span class="pre">perpetual</span> <span class="pre">storage</span> <span class="pre">wiggle</span></code> to wiggle the storage servers based on their created time. <a class="reference external" href="https://github.com/apple/foundationdb/pull/6219">(PR #6219)</a></li>
</ul>
</div>
<div class="section" id="earlier-release-notes">
<h3>Earlier release notes</h3>
<ul class="simple">
<li><a class="reference internal" href="release-notes-700.html"><span class="doc">7.0 (API Version 700)</span></a></li>
<li><a class="reference internal" href="release-notes-630.html"><span class="doc">6.3 (API Version 630)</span></a></li>
<li><a class="reference internal" href="release-notes-620.html"><span class="doc">6.2 (API Version 620)</span></a></li>
<li><a class="reference internal" href="release-notes-610.html"><span class="doc">6.1 (API Version 610)</span></a></li>
<li><a class="reference internal" href="release-notes-600.html"><span class="doc">6.0 (API Version 600)</span></a></li>
<li><a class="reference internal" href="release-notes-520.html"><span class="doc">5.2 (API Version 520)</span></a></li>
<li><a class="reference internal" href="release-notes-510.html"><span class="doc">5.1 (API Version 510)</span></a></li>
<li><a class="reference internal" href="release-notes-500.html"><span class="doc">5.0 (API Version 500)</span></a></li>
<li><a class="reference internal" href="release-notes-460.html"><span class="doc">4.6 (API Version 460)</span></a></li>
<li><a class="reference internal" href="release-notes-450.html"><span class="doc">4.5 (API Version 450)</span></a></li>
<li><a class="reference internal" href="release-notes-440.html"><span class="doc">4.4 (API Version 440)</span></a></li>
<li><a class="reference internal" href="release-notes-430.html"><span class="doc">4.3 (API Version 430)</span></a></li>
<li><a class="reference internal" href="release-notes-420.html"><span class="doc">4.2 (API Version 420)</span></a></li>
<li><a class="reference internal" href="release-notes-410.html"><span class="doc">4.1 (API Version 410)</span></a></li>
<li><a class="reference internal" href="release-notes-400.html"><span class="doc">4.0 (API Version 400)</span></a></li>
<li><a class="reference internal" href="release-notes-300.html"><span class="doc">3.0 (API Version 300)</span></a></li>
<li><a class="reference internal" href="release-notes-200.html"><span class="doc">2.0 (API Version 200)</span></a></li>
<li><a class="reference internal" href="release-notes-100.html"><span class="doc">1.0 (API Version 100)</span></a></li>
<li><a class="reference internal" href="release-notes-023.html"><span class="doc">Beta 3 (API Version 23)</span></a></li>
<li><a class="reference internal" href="release-notes-022.html"><span class="doc">Beta 2 (API Version 22)</span></a></li>
<li><a class="reference internal" href="release-notes-021.html"><span class="doc">Beta 1 (API Version 21)</span></a></li>
<li><a class="reference internal" href="release-notes-016.html"><span class="doc">Alpha 6 (API Version 16)</span></a></li>
<li><a class="reference internal" href="release-notes-014.html"><span class="doc">Alpha 5 (API Version 14)</span></a></li>
</ul>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/release-notes/release-notes-710.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2013-2021 Apple, Inc and the FoundationDB project authors.<br/>
      Last updated on May 15, 2022.<br/>
    </p>
  </div>
</footer>
  </body>
</html>