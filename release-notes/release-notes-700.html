<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Release Notes &#8212; FoundationDB 7.2</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Release Notes" href="release-notes-710.html" />
    <link rel="prev" title="Release Notes" href="release-notes-630.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          FoundationDB</a>
        <span class="navbar-text navbar-version pull-left"><b>7.2</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../contents.html">Site Map</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../local-dev.html">Local Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../internal-dev-tools.html">Internal Dev Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../why-foundationdb.html">Why FoundationDB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../transaction-manifesto.html">Transaction Manifesto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cap-theorem.html">CAP Theorem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../consistency.html">Consistency</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scalability.html">Scalability</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technical-overview.html">Technical Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../performance.html">Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../benchmarking.html">Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../engineering.html">Engineering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../features.html">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../layer-concept.html">Layer Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="../anti-features.html">Anti-Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transaction-processing.html">Transaction Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fault-tolerance.html">Fault Tolerance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flow.html">Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing.html">Simulation and Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kv-architecture.html">FoundationDB Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../read-write-path.html">FDB Read and Write Path</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ha-write-path.html">FDB HA Write Path: How a mutation travels in FDB HA</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../client-design.html">Client Design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting-started-mac.html">Getting Started on macOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started-linux.html">Getting Started on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../downloads.html">Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer-guide.html">Developer Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-modeling.html">Data Modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client-testing.html">Client Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client-testing.html#testing-error-handling-with-buggify">Testing Error Handling with Buggify</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client-testing.html#simulation-and-cluster-workloads">Simulation and Cluster Workloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client-testing.html#api-tester">API Tester</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api-general.html">Using FoundationDB Clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transaction-tagging.html">Transaction Tagging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../known-limitations.html">Known Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transaction-profiler-analyzer.html">Transaction profiling and analyzing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api-version-upgrade-guide.html">API Version Upgrade Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tenants.html">Tenants</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../design-recipes.html">Design Recipes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../blob.html">Blob</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blob-java.html">Blob</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hierarchical-documents.html">Hierarchical Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hierarchical-documents-java.html">Hierarchical Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multimaps.html">Multimaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multimaps-java.html">Multimaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../priority-queues.html">Priority Queues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../priority-queues-java.html">Priority Queues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../queues.html">Queues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../queues-java.html">Queues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../segmented-range-reads.html">Segmented Range Reads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../segmented-range-reads-java.html">Segmented Range Reads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simple-indexes.html">Simple Indexes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simple-indexes-java.html">Simple Indexes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spatial-indexing.html">Spatial Indexing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spatial-indexing-java.html">Spatial Indexing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subspace-indirection.html">Subspace Indirection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subspace-indirection-java.html">Subspace Indirection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tables.html">Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tables-java.html">Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector.html">Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector-java.html">Vector</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api-python.html">Python API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api-ruby.html">Ruby API</a></li>
<li class="toctree-l2"><a class="reference external" href="relative://javadoc/index.html">Java API</a></li>
<li class="toctree-l2"><a class="reference external" href="https://godoc.org/github.com/apple/foundationdb/bindings/go/src/fdb">Go API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api-c.html">C API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api-error-codes.html">Error Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../special-keys.html">Special Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../global-configuration.html">Global Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../class-scheduling.html">Class Scheduling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../largeval.html">Managing Large Values and Blobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../time-series.html">Time-Series Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../administration.html">Administration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../moving-a-cluster.html">Moving a Cluster to New Machines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tls.html">Transport Layer Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../authorization.html">Authorization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../monitored-metrics.html"><strong>Monitored Metrics</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../redwood.html">Redwood Storage Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visibility.html">Visibility Documents</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../request-tracing.html">Request Tracing</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../earlier-release-notes.html">Earlier Release Notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="release-notes-014.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-016.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-021.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-022.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-023.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-100.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-200.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-300.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-400.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-410.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-420.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-430.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-440.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-450.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-460.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-500.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-510.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-520.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-600.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-610.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-620.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-630.html">Release Notes</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-710.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes-720.html">Release Notes</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Release Notes</a><ul>
<li><a class="reference internal" href="#id1">7.0.0</a><ul>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#performance">Performance</a></li>
<li><a class="reference internal" href="#reliability">Reliability</a></li>
<li><a class="reference internal" href="#fixes">Fixes</a></li>
<li><a class="reference internal" href="#status">Status</a></li>
<li><a class="reference internal" href="#bindings">Bindings</a></li>
<li><a class="reference internal" href="#other-changes">Other Changes</a></li>
<li><a class="reference internal" href="#earlier-release-notes">Earlier release notes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="release-notes-630.html" title="Previous Chapter: Release Notes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Release Notes</span>
    </a>
  </li>
  <li>
    <a href="release-notes-710.html" title="Next Chapter: Release Notes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Release Notes &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Release Notes</a><ul>
<li><a class="reference internal" href="#id1">7.0.0</a><ul>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#performance">Performance</a></li>
<li><a class="reference internal" href="#reliability">Reliability</a></li>
<li><a class="reference internal" href="#fixes">Fixes</a></li>
<li><a class="reference internal" href="#status">Status</a></li>
<li><a class="reference internal" href="#bindings">Bindings</a></li>
<li><a class="reference internal" href="#other-changes">Other Changes</a></li>
<li><a class="reference internal" href="#earlier-release-notes">Earlier release notes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <section id="release-notes">
<h1>Release Notes</h1>
<section id="id1">
<h2>7.0.0</h2>
<section id="features">
<h3>Features</h3>
<ul class="simple">
<li><p>First release of the Redwood Storage Engine, a BTree storage engine with higher throughput and lower write amplification than SQLite. See <a class="reference internal" href="../redwood.html#redwood-storage-engine"><span class="std std-ref">Redwood Storage Engine Documentation</span></a> for details.</p></li>
<li><p>Replaced committed version broadcast through proxy with centralizing live committed versions into master. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3307">(PR #3307)</a></p></li>
<li><p>Added a new API in all bindings that can be used to get a list of split points that will split the given range into (roughly) equally sized chunks. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3394">(PR #3394)</a></p></li>
<li><p>Introduced a new role called GRV proxy specialized for serving GRV requests to decrease GRV tail latency since we prioritize commit paths over GRV in the current proxy. The original proxy is renamed to Commit proxy. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3549">(PR #3549)</a> <a class="reference external" href="https://github.com/apple/foundationdb/pull/3772">(PR #3772)</a></p></li>
<li><p>Added support for writing backup files directly to Azure blob storage. This is not yet performance tested on large-scale clusters. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3961">(PR #3961)</a></p></li>
<li><p>Tag-based throttling now also takes the write path into account. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3512">(PR #3512)</a></p></li>
<li><p>Added the ability to ratekeeper to throttle certain types of tags based on write hot spots in addition to read hot spots. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3571">(PR #3571)</a></p></li>
<li><p>Users now have the option to make ratekeeper recommend which transaction tags should be throttled, but not actually throttle them using fdbcli. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3669">(PR #3669)</a></p></li>
<li><p>Added a new <code class="docutils literal notranslate"><span class="pre">--build_flags</span> <span class="pre">option</span></code> to binaries to print build information. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3769">(PR #3769)</a></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">--incremental</span></code> option to backup and restore that allows specification of only recording mutation log files and not range files. Incremental restore also allows restoring to a non-empty destination database. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3676">(PR #3676)</a></p></li>
<li><p>Added a tracing framework to track request latency through each FDB component. See <a class="reference internal" href="../request-tracing.html#request-tracing"><span class="std std-ref">Documentation</span></a> for details. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3329">(PR #3329)</a></p></li>
<li><p>Added the <a class="reference internal" href="../global-configuration.html#global-configuration"><span class="std std-ref">(Global Configuration Framework)</span></a>, an eventually consistent configuration mechanism to efficiently make runtime changes to all clients and servers. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4330">(PR #4330)</a></p></li>
<li><p>Added the ability to monitor and manage an fdb cluster via read/write specific special keys through transactions. See <a class="reference internal" href="../special-keys.html#special-keys"><span class="std std-ref">Documentation</span></a> for details. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3455">(PR #3455)</a></p></li>
<li><p>Added TLS support to fdbdecode for decoding mutation log files stored in blobs. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4611">(PR #4611)</a></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">initial_snapshot_interval</span></code> to fdbbackup that can specify the duration of the first inconsistent snapshot written to the backup. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4620">(PR #4620)</a></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">inconsistent_snapshot_only</span></code> to fdbbackup that ignores mutation log files and only uses range files during the restore to speedup the process. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4704">(PR #4704)</a></p></li>
<li><p>Added the Testing Storage Server (TSS), which allows FoundationDB to run an “untrusted” storage engine with identical workload to the current storage engine, with zero impact on durability or correctness, and minimal impact on performance. <a class="reference external" href="https://github.com/apple/foundationdb/blob/main/documentation/sphinx/source/tss.rst">(Documentation)</a> <a class="reference external" href="https://github.com/apple/foundationdb/pull/4556">(PR #4556)</a></p></li>
<li><p>Added perpetual storage wiggle that supports less impactful B-trees recreation and data migration. These will also be used for deploying the Testing Storage Server which compares 2 storage engines’ results. See <a class="reference internal" href="../perpetual-storage-wiggle.html#perpetual-storage-wiggle"><span class="std std-ref">Documentation</span></a> for details. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4838">(PR #4838)</a></p></li>
<li><p>Improved the efficiency with which storage servers replicate data between themselves. <a class="reference external" href="https://github.com/apple/foundationdb/pull/5017">(PR #5017)</a></p></li>
<li><p>Added support to <code class="docutils literal notranslate"><span class="pre">exclude</span> <span class="pre">command</span></code> to exclude based on locality match. <a class="reference external" href="https://github.com/apple/foundationdb/pull/5113">(PR #5113)</a></p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">trace_partial_file_suffix</span></code> network option. This option will give unfinished trace files a special suffix to indicate they’re not complete yet. When the trace file is complete, it is renamed to remove the suffix. <a class="reference external" href="https://github.com/apple/foundationdb/pull/5328">(PR #5328)</a></p></li>
</ul>
</section>
<section id="performance">
<h3>Performance</h3>
<ul class="simple">
<li><p>Improved Deque copy performance. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3197">(PR #3197)</a></p></li>
<li><p>Increased performance of dr_agent when copying the mutation log. The <code class="docutils literal notranslate"><span class="pre">COPY_LOG_BLOCK_SIZE</span></code>, <code class="docutils literal notranslate"><span class="pre">COPY_LOG_BLOCKS_PER_TASK</span></code>, <code class="docutils literal notranslate"><span class="pre">COPY_LOG_PREFETCH_BLOCKS</span></code>, <code class="docutils literal notranslate"><span class="pre">COPY_LOG_READ_AHEAD_BYTES</span></code> and <code class="docutils literal notranslate"><span class="pre">COPY_LOG_TASK_DURATION_NANOS</span></code> knobs can be set. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3436">(PR #3436)</a></p></li>
<li><p>Added multiple new microbenchmarks for PromiseStream, Reference, IRandom, and timer, as well as support for benchmarking actors. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3590">(PR #3590)</a></p></li>
<li><p>Use xxhash3 for SQLite page checksums. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4075">(PR #4075)</a></p></li>
<li><p>fdbserver now uses jemalloc on Linux instead of the system malloc. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4222">(PR #4222)</a></p></li>
<li><p>Watches have been optimized and are now significantly cheaper. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4266">(PR #4266)</a> <a class="reference external" href="https://github.com/apple/foundationdb/pull/4382">(PR #4382 )</a></p></li>
<li><p>The Coro library has been replaced with boost::coroutine2. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4242">(PR #4242)</a></p></li>
<li><p>Reduce CPU overhead of load balancing on client processes. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4561">(PR #4561)</a></p></li>
<li><p>Used the restored key range to filter out files for faster restore. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4568">(PR #4568)</a></p></li>
<li><p>Transaction log files will be truncated by default if they are under 2GB in size. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4656">(PR #4656)</a></p></li>
<li><p>Reduced the number of connections required by the multi-version client when loading external clients. When connecting to 7.0 clusters, only one connection with version 6.2 or larger will be used. With older clusters, at most two connections with version 6.2 or larger will be used. Clients older than version 6.2 will continue to create an additional connection each. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4667">(PR #4667)</a></p></li>
</ul>
</section>
<section id="reliability">
<h3>Reliability</h3>
<ul class="simple">
<li><p>Backup agents now pause themselves upon a successful snapshot recovery to avoid unintentional data corruption. Operators should manually abort backup agents and clear the backup agent keyspace to avoid using the old cluster’s backup configuration. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4027">(PR #4027)</a></p></li>
<li><p>Log class processes are prioritized above transaction class proceses for becoming tlogs. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4509">(PR #4509)</a></p></li>
<li><p>Improved worker recruitment logic to avoid unnecessary recoveries when processes are added or removed from a cluster. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4695">(PR #4695)</a> <a class="reference external" href="https://github.com/apple/foundationdb/pull/4631">(PR #4631)</a> <a class="reference external" href="https://github.com/apple/foundationdb/pull/4509">(PR #4509)</a></p></li>
</ul>
</section>
<section id="fixes">
<h3>Fixes</h3>
<ul class="simple">
<li><p>List files asynchronously so many backup files on a slow disk won’t cause the backup agent to lose its lease. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3094">(PR #3094)</a></p></li>
<li><p>Unknown endpoint has been tracked incorrectly and therefore showed up too frequently in our statistics. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4473">(PR #4473)</a></p></li>
<li><p>Using the <code class="docutils literal notranslate"><span class="pre">exclude</span> <span class="pre">failed</span></code> command could leave the data distributor in a state where it cannot complete relocations. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4495">(PR #4495)</a></p></li>
<li><p>Fixed a rare crash on the cluster controller when using multi-region configurations. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4547">(PR #4547)</a></p></li>
<li><p>Fixed a memory corruption bug in the data distributor. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4535">(PR #4535)</a></p></li>
<li><p>Fixed a rare crash that could happen on the sequencer during recovery. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4548">(PR #4548)</a></p></li>
<li><p>Added a new pre-backup action when creating a backup. Backups can now either verify the range data is being saved to is empty before the backup begins (current behavior) or clear the range where data is being saved to. Fixes a <code class="docutils literal notranslate"><span class="pre">restore_destination_not_empty</span></code> failure after a backup retry due to <code class="docutils literal notranslate"><span class="pre">commit_unknown_failure</span></code>. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4595">(PR #4595)</a></p></li>
<li><p>When configured with <code class="docutils literal notranslate"><span class="pre">usable_regions=2</span></code>, a cluster would not fail over to a region which contained only storage class processes. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4599">(PR #4599)</a></p></li>
<li><p>If a restore is done using a prefix to remove and specific key ranges to restore, the key range boundaries must begin with the prefix to remove. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4684">(PR #4684)</a></p></li>
<li><p>The multi-version client API would not propagate errors that occurred when creating databases on external clients. This could result in a invalid memory accesses. <a class="reference external" href="https://github.com/apple/foundationdb/pull/5220">(PR #5220)</a></p></li>
<li><p>Fixed a race between the multi-version client connecting to a cluster and destroying the database that could cause an assertion failure. <a class="reference external" href="https://github.com/apple/foundationdb/pull/5220">(PR #5220)</a></p></li>
<li><p>A client might not honor transaction timeouts when using the multi-version client if it cannot connect to the cluster. <a class="reference external" href="https://github.com/apple/foundationdb/issues/5595">(Issue #5595)</a></p></li>
</ul>
</section>
<section id="status">
<h3>Status</h3>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">cluster.qos.throttled_tags</span></code> and <code class="docutils literal notranslate"><span class="pre">cluster.processes.*.roles.busiest_[read|write]_tag</span></code> to report statistics on throttled tags and the busiest read or write transaction tags on each storage server. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3669">(PR #3669)</a> <a class="reference external" href="https://github.com/apple/foundationdb/pull/3696">(PR #3696)</a></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">seconds_since_last_recovered</span></code> to the <code class="docutils literal notranslate"><span class="pre">cluster.recovery_state</span></code> section to report how long it has been since the cluster recovered to the point where it is able to accept requests. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3759">(PR #3759)</a></p></li>
<li><p>Added limiting metrics (limiting_storage_durability_lag and limiting_storage_queue) to health metrics. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4067">(PR #4067)</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">min_replicas_remaining</span></code> is now populated for all regions, thus giving a clear picture of the data replicas that exist in the database. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4515">(PR 4515)</a></p></li>
<li><p>Added detailed metrics for batched transactions. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4540">(PR #4540)</a></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">commit_batching_window_size</span></code> to the proxy roles section of status to record statistics about commit batching window size on each proxy. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4735">(PR #4735)</a></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">cluster.bounce_impact</span></code> section to status to report if there will be any extra effects when bouncing the cluster, and if so, the reason for those effects. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4770">(PR #4770)</a></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">fetched_versions</span></code> to the storage metrics section of status to report how fast a storage server is catching up in versions. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4770">(PR #4770)</a></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">fetches_from_logs</span></code> to the storage metrics section of status to report how frequently a storage server fetches updates from transaction logs. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4770">(PR #4770)</a></p></li>
</ul>
</section>
<section id="bindings">
<h3>Bindings</h3>
<ul class="simple">
<li><p>Python: The function <code class="docutils literal notranslate"><span class="pre">get_estimated_range_size_bytes</span></code> will now throw an error if the <code class="docutils literal notranslate"><span class="pre">begin_key</span></code> or <code class="docutils literal notranslate"><span class="pre">end_key</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3394">(PR #3394)</a></p></li>
<li><p>C: Added a function, <code class="docutils literal notranslate"><span class="pre">fdb_database_reboot_worker</span></code>, to reboot or suspend the specified process. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4094">(PR #4094)</a></p></li>
<li><p>C: Added a function, <code class="docutils literal notranslate"><span class="pre">fdb_database_force_recovery_with_data_loss</span></code>, to force the database to recover into the given datacenter. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4220">(PR #4220)</a></p></li>
<li><p>C: Added a function, <code class="docutils literal notranslate"><span class="pre">fdb_database_create_snapshot</span></code>, to create a snapshot of the database. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4241/files">(PR #4241)</a></p></li>
<li><p>C: Added <code class="docutils literal notranslate"><span class="pre">fdb_database_get_main_thread_busyness</span></code> function to report how busy a client’s main thread is. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4504">(PR #4504)</a></p></li>
<li><p>Java: Added <code class="docutils literal notranslate"><span class="pre">Database.getMainThreadBusyness</span></code> function to report how busy a client’s main thread is. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4564">(PR #4564)</a></p></li>
</ul>
</section>
<section id="other-changes">
<h3>Other Changes</h3>
<ul class="simple">
<li><p>Added rte_memcpy from DPDK for default usage. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3089/files">(PR #3089)</a></p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">fdbmonitor</span></code> dies, all of its child processes are now killed. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3841">(PR #3841)</a></p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">foundationdb</span></code> service installed by the RPM packages will now automatically restart <code class="docutils literal notranslate"><span class="pre">fdbmonitor</span></code> after 60 seconds when it fails. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3841">(PR #3841)</a></p></li>
<li><p>Capture output of forked snapshot processes in trace events. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4254/files">(PR #4254)</a></p></li>
<li><p>Add ErrorKind field to Severity 40 trace events. <a class="reference external" href="https://github.com/apple/foundationdb/pull/4741/files">(PR #4741)</a></p></li>
<li><p>Added histograms for the storage server write path components. <a class="reference external" href="https://github.com/apple/foundationdb/pull/5021/files">(PR #5021)</a></p></li>
<li><p>Committing a transaction will no longer partially reset it as of API version 700. <a class="reference external" href="https://github.com/apple/foundationdb/pull/5271/files">(PR #5271)</a></p></li>
</ul>
</section>
<section id="earlier-release-notes">
<h3>Earlier release notes</h3>
<ul class="simple">
<li><p><a class="reference internal" href="release-notes-630.html"><span class="doc">6.3 (API Version 630)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-620.html"><span class="doc">6.2 (API Version 620)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-610.html"><span class="doc">6.1 (API Version 610)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-600.html"><span class="doc">6.0 (API Version 600)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-520.html"><span class="doc">5.2 (API Version 520)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-510.html"><span class="doc">5.1 (API Version 510)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-500.html"><span class="doc">5.0 (API Version 500)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-460.html"><span class="doc">4.6 (API Version 460)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-450.html"><span class="doc">4.5 (API Version 450)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-440.html"><span class="doc">4.4 (API Version 440)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-430.html"><span class="doc">4.3 (API Version 430)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-420.html"><span class="doc">4.2 (API Version 420)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-410.html"><span class="doc">4.1 (API Version 410)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-400.html"><span class="doc">4.0 (API Version 400)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-300.html"><span class="doc">3.0 (API Version 300)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-200.html"><span class="doc">2.0 (API Version 200)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-100.html"><span class="doc">1.0 (API Version 100)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-023.html"><span class="doc">Beta 3 (API Version 23)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-022.html"><span class="doc">Beta 2 (API Version 22)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-021.html"><span class="doc">Beta 1 (API Version 21)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-016.html"><span class="doc">Alpha 6 (API Version 16)</span></a></p></li>
<li><p><a class="reference internal" href="release-notes-014.html"><span class="doc">Alpha 5 (API Version 14)</span></a></p></li>
</ul>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/release-notes/release-notes-700.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2013-2021 Apple, Inc and the FoundationDB project authors.<br/>
      Last updated on Nov 30, 2022.<br/>
    </p>
  </div>
</footer>
  </body>
</html>