<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>API Version Upgrade Guide &#8212; FoundationDB 7.4.5 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-sphinx.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tenants" href="tenants.html" />
    <link rel="prev" title="Transaction profiling and analyzing" href="transaction-profiler-analyzer.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          FoundationDB</a>
        <span class="navbar-text navbar-version pull-left"><b>7.4.5</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="contents.html">Site Map</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">API Version Upgrade Guide</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#api-version-740">API version 740</a><ul>
<li><a class="reference internal" href="#general">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-730">API version 730</a><ul>
<li><a class="reference internal" href="#id1">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-720">API version 720</a><ul>
<li><a class="reference internal" href="#id2">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-710">API version 710</a><ul>
<li><a class="reference internal" href="#id3">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-700">API version 700</a><ul>
<li><a class="reference internal" href="#id4">General</a></li>
<li><a class="reference internal" href="#python-bindings">Python bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-630">API version 630</a><ul>
<li><a class="reference internal" href="#id5">General</a></li>
<li><a class="reference internal" href="#c-bindings">C bindings</a></li>
<li><a class="reference internal" href="#id6">Python bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-620">API version 620</a><ul>
<li><a class="reference internal" href="#id7">C bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-610">API version 610</a><ul>
<li><a class="reference internal" href="#id8">General</a></li>
<li><a class="reference internal" href="#id9">C bindings</a></li>
<li><a class="reference internal" href="#id10">Python bindings</a></li>
<li><a class="reference internal" href="#java-bindings">Java bindings</a></li>
<li><a class="reference internal" href="#ruby-bindings">Ruby bindings</a></li>
<li><a class="reference internal" href="#go-bindings">Go bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-600">API version 600</a><ul>
<li><a class="reference internal" href="#id11">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-520">API version 520</a><ul>
<li><a class="reference internal" href="#id12">General</a></li>
<li><a class="reference internal" href="#java-and-python-bindings">Java and Python bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-510">API version 510</a><ul>
<li><a class="reference internal" href="#id13">General</a></li>
<li><a class="reference internal" href="#id14">Java bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-500">API version 500</a><ul>
<li><a class="reference internal" href="#id15">Java bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-460">API version 460</a></li>
<li><a class="reference internal" href="#api-version-450">API version 450</a></li>
<li><a class="reference internal" href="#api-version-440">API version 440</a></li>
<li><a class="reference internal" href="#api-version-430">API version 430</a></li>
<li><a class="reference internal" href="#api-version-420">API version 420</a></li>
<li><a class="reference internal" href="#api-version-410">API version 410</a><ul>
<li><a class="reference internal" href="#id16">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-400">API version 400</a><ul>
<li><a class="reference internal" href="#id17">Java bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-300">API version 300</a><ul>
<li><a class="reference internal" href="#id18">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-200">API version 200</a><ul>
<li><a class="reference internal" href="#id19">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-100">API version 100</a><ul>
<li><a class="reference internal" href="#id20">Java bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#older-api-versions">Older API versions</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="transaction-profiler-analyzer.html" title="Previous Chapter: Transaction profiling and analyzing"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Transaction p...</span>
    </a>
  </li>
  <li>
    <a href="tenants.html" title="Next Chapter: Tenants"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Tenants &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">API Version Upgrade Guide</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#api-version-740">API version 740</a><ul>
<li><a class="reference internal" href="#general">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-730">API version 730</a><ul>
<li><a class="reference internal" href="#id1">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-720">API version 720</a><ul>
<li><a class="reference internal" href="#id2">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-710">API version 710</a><ul>
<li><a class="reference internal" href="#id3">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-700">API version 700</a><ul>
<li><a class="reference internal" href="#id4">General</a></li>
<li><a class="reference internal" href="#python-bindings">Python bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-630">API version 630</a><ul>
<li><a class="reference internal" href="#id5">General</a></li>
<li><a class="reference internal" href="#c-bindings">C bindings</a></li>
<li><a class="reference internal" href="#id6">Python bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-620">API version 620</a><ul>
<li><a class="reference internal" href="#id7">C bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-610">API version 610</a><ul>
<li><a class="reference internal" href="#id8">General</a></li>
<li><a class="reference internal" href="#id9">C bindings</a></li>
<li><a class="reference internal" href="#id10">Python bindings</a></li>
<li><a class="reference internal" href="#java-bindings">Java bindings</a></li>
<li><a class="reference internal" href="#ruby-bindings">Ruby bindings</a></li>
<li><a class="reference internal" href="#go-bindings">Go bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-600">API version 600</a><ul>
<li><a class="reference internal" href="#id11">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-520">API version 520</a><ul>
<li><a class="reference internal" href="#id12">General</a></li>
<li><a class="reference internal" href="#java-and-python-bindings">Java and Python bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-510">API version 510</a><ul>
<li><a class="reference internal" href="#id13">General</a></li>
<li><a class="reference internal" href="#id14">Java bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-500">API version 500</a><ul>
<li><a class="reference internal" href="#id15">Java bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-460">API version 460</a></li>
<li><a class="reference internal" href="#api-version-450">API version 450</a></li>
<li><a class="reference internal" href="#api-version-440">API version 440</a></li>
<li><a class="reference internal" href="#api-version-430">API version 430</a></li>
<li><a class="reference internal" href="#api-version-420">API version 420</a></li>
<li><a class="reference internal" href="#api-version-410">API version 410</a><ul>
<li><a class="reference internal" href="#id16">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-400">API version 400</a><ul>
<li><a class="reference internal" href="#id17">Java bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-300">API version 300</a><ul>
<li><a class="reference internal" href="#id18">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-200">API version 200</a><ul>
<li><a class="reference internal" href="#id19">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-version-100">API version 100</a><ul>
<li><a class="reference internal" href="#id20">Java bindings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#older-api-versions">Older API versions</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <section id="api-version-upgrade-guide">
<h1>API Version Upgrade Guide</h1>
<section id="overview">
<h2>Overview</h2>
<p>This document provides an overview of changes that an application developer may need to make or effects that they should consider when upgrading the API version in their code. For each version, a list is provided that details the relevant changes when upgrading to that version from a prior version. To upgrade across multiple versions, make sure you apply changes from each version starting after your start version up to and including your target version.</p>
<p>For more details about API versions, see <a class="reference internal" href="api-general.html#api-versions"><span class="std std-ref">API versions</span></a>.</p>
</section>
<section id="api-version-740">
<span id="api-version-upgrade-guide-740"></span><h2>API version 740</h2>
<section id="general">
<h3>General</h3>
</section>
</section>
<section id="api-version-730">
<span id="api-version-upgrade-guide-730"></span><h2>API version 730</h2>
<section id="id1">
<h3>General</h3>
</section>
</section>
<section id="api-version-720">
<span id="api-version-upgrade-guide-720"></span><h2>API version 720</h2>
<section id="id2">
<h3>General</h3>
<ul class="simple">
<li><p>Special keys <code class="docutils literal notranslate"><span class="pre">\xff\xff/management/profiling/&lt;client_txn_sample_rate|client_txn_size_limit&gt;</span></code> are removed in 7.2 and the functionalities they provide are now covered by the global configuration module.</p></li>
</ul>
</section>
</section>
<section id="api-version-710">
<span id="api-version-upgrade-guide-710"></span><h2>API version 710</h2>
<section id="id3">
<h3>General</h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fdb_transaction_get_range_and_flat_map</span></code> API is replaced by <code class="docutils literal notranslate"><span class="pre">fdb_transaction_get_mapped_range</span></code> in version 710. The function <code class="docutils literal notranslate"><span class="pre">fdb_transaction_get_range_and_flat_map</span></code> is not supported in any API version.</p></li>
</ul>
</section>
</section>
<section id="api-version-700">
<span id="api-version-upgrade-guide-700"></span><h2>API version 700</h2>
<section id="id4">
<h3>General</h3>
<ul class="simple">
<li><p>Committing a transaction will no longer partially reset it. In particular, getting the read version from a transaction that has committed or failed to commit with an error will return the original read version.</p></li>
</ul>
</section>
<section id="python-bindings">
<h3>Python bindings</h3>
<ul class="simple">
<li><p>The function <code class="docutils literal notranslate"><span class="pre">get_estimated_range_size_bytes</span></code> will now throw an error if the <code class="docutils literal notranslate"><span class="pre">begin_key</span></code> or <code class="docutils literal notranslate"><span class="pre">end_key</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</section>
</section>
<section id="api-version-630">
<span id="api-version-upgrade-guide-630"></span><h2>API version 630</h2>
<section id="id5">
<h3>General</h3>
<ul class="simple">
<li><p>In previous api versions, a get range starting at <code class="docutils literal notranslate"><span class="pre">\xff\xff/worker_interfaces</span></code> ignored its arguments and returned keys outside the range requested. In api version 630, you can get similar behavior by reading from <code class="docutils literal notranslate"><span class="pre">\xff\xff/worker_interfaces/</span></code> to <code class="docutils literal notranslate"><span class="pre">\xff\xff/worker_interfaces0</span></code> and stripping the prefix <code class="docutils literal notranslate"><span class="pre">\xff\xff/worker_interfaces/</span></code> from each key in the result.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">get_addresses_for_key</span></code> function now returns strings that include the port in the address. Prior to API version 630, this required using the <code class="docutils literal notranslate"><span class="pre">INCLUDE_PORT_IN_ADDRESS</span></code> option, which has now been deprecated.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ENABLE_SLOW_TASK_PROFILING</span></code> network option has been replaced by <code class="docutils literal notranslate"><span class="pre">ENABLE_RUN_LOOP_PROFILING</span></code> and is now deprecated.</p></li>
</ul>
</section>
<section id="c-bindings">
<h3>C bindings</h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">FDBKeyValue</span></code> struct’s <code class="docutils literal notranslate"><span class="pre">key</span></code> and <code class="docutils literal notranslate"><span class="pre">value</span></code> members have changed type from <code class="docutils literal notranslate"><span class="pre">void*</span></code> to <code class="docutils literal notranslate"><span class="pre">uint8_t*</span></code>.</p></li>
</ul>
</section>
<section id="id6">
<h3>Python bindings</h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;fdb.transactional</span></code> decorated functions will now throw an error if they return a generator. Previously, it was very easy to write these generators in a way that resulted them committing or retrying earlier than intended.</p></li>
</ul>
</section>
</section>
<section id="api-version-620">
<span id="api-version-upgrade-guide-620"></span><h2>API version 620</h2>
<section id="id7">
<h3>C bindings</h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fdb_future_get_version</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">fdb_future_get_int64</span></code>.</p></li>
</ul>
</section>
</section>
<section id="api-version-610">
<span id="api-version-upgrade-guide-610"></span><h2>API version 610</h2>
<section id="id8">
<h3>General</h3>
<ul class="simple">
<li><p>The concept of opening a cluster has been removed from the API. Instead, databases are opened directly. See binding specific notes for the details as they apply to your language binding.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">TIMEOUT</span></code>, <code class="docutils literal notranslate"><span class="pre">MAX_RETRY_DELAY</span></code>, and <code class="docutils literal notranslate"><span class="pre">RETRY_LIMIT</span></code> transaction options are no longer reset by calls to <code class="docutils literal notranslate"><span class="pre">onError</span></code>.</p></li>
<li><p>Calling <code class="docutils literal notranslate"><span class="pre">onError</span></code> with a non-retryable error will now put a transaction into an error state. Previously, this would partially reset the transaction.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">TRANSACTION_LOGGING_ENABLE</span></code> option has been deprecated. Its behavior can be replicated by setting the <code class="docutils literal notranslate"><span class="pre">DEBUG_TRANSACTION_IDENTIFIER</span></code> and <code class="docutils literal notranslate"><span class="pre">LOG_TRANSACTION</span></code> options.</p></li>
</ul>
</section>
<section id="id9">
<h3>C bindings</h3>
<ul class="simple">
<li><p>Creating a database is now done by calling <code class="docutils literal notranslate"><span class="pre">fdb_create_database</span></code>, which is a synchronous operation.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">FDBCluster</span></code> type has been eliminated and the following functions have been removed: <code class="docutils literal notranslate"><span class="pre">fdb_create_cluster</span></code>, <code class="docutils literal notranslate"><span class="pre">fdb_cluster_create_database</span></code>, <code class="docutils literal notranslate"><span class="pre">fdb_cluster_set_option</span></code>, <code class="docutils literal notranslate"><span class="pre">fdb_cluster_destroy</span></code>, <code class="docutils literal notranslate"><span class="pre">fdb_future_get_cluster</span></code>, and <code class="docutils literal notranslate"><span class="pre">fdb_future_get_database</span></code>.</p></li>
</ul>
</section>
<section id="id10">
<h3>Python bindings</h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fdb.open</span></code> no longer accepts a <code class="docutils literal notranslate"><span class="pre">database_name</span></code> parameter.</p></li>
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">fdb.init</span></code>, <code class="docutils literal notranslate"><span class="pre">fdb.create_cluster</span></code>, and <code class="docutils literal notranslate"><span class="pre">fdb.Cluster</span></code>. <code class="docutils literal notranslate"><span class="pre">fdb.open</span></code> should be used instead.</p></li>
</ul>
</section>
<section id="java-bindings">
<h3>Java bindings</h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">FDB.createCluster</span></code> and  the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> class have been deprecated. <code class="docutils literal notranslate"><span class="pre">FDB.open</span></code> should be used instead.</p></li>
</ul>
</section>
<section id="ruby-bindings">
<h3>Ruby bindings</h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">FDB.open</span></code> no longer accepts a <code class="docutils literal notranslate"><span class="pre">database_name</span></code> parameter.</p></li>
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">FDB.init</span></code>, <code class="docutils literal notranslate"><span class="pre">FDB.create_cluster</span></code>, and <code class="docutils literal notranslate"><span class="pre">FDB.Cluster</span></code>. <code class="docutils literal notranslate"><span class="pre">FDB.open</span></code> should be used instead.</p></li>
</ul>
</section>
<section id="go-bindings">
<h3>Go bindings</h3>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">fdb.OpenDatabase</span></code> and <code class="docutils literal notranslate"><span class="pre">fdb.MustOpenDatabase</span></code> to open a connection to the database by specifying a cluster file.</p></li>
<li><p>Deprecated <code class="docutils literal notranslate"><span class="pre">fdb.StartNetwork</span></code>, <code class="docutils literal notranslate"><span class="pre">fdb.Open</span></code>, <code class="docutils literal notranslate"><span class="pre">fdb.MustOpen</span></code>, and <code class="docutils literal notranslate"><span class="pre">fdb.CreateCluster</span></code>. <code class="docutils literal notranslate"><span class="pre">fdb.OpenDatabase</span></code> or <code class="docutils literal notranslate"><span class="pre">fdb.OpenDefault</span></code> should be used instead.</p></li>
</ul>
</section>
</section>
<section id="api-version-600">
<span id="api-version-upgrade-guide-600"></span><h2>API version 600</h2>
<section id="id11">
<h3>General</h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">TLS_PLUGIN</span></code> option is now a no-op and has been deprecated. TLS support is now included in the published binaries.</p></li>
</ul>
</section>
</section>
<section id="api-version-520">
<span id="api-version-upgrade-guide-520"></span><h2>API version 520</h2>
<section id="id12">
<h3>General</h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">SET_VERSIONSTAMPED_KEY</span></code> atomic operation now uses four bytes instead of two to specify the versionstamp offset.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">SET_VERSIONSTAMPED_VALUE</span></code> atomic operation now requires a four byte versionstamp offset to be specified at the end of the value, similar to the behavior with <code class="docutils literal notranslate"><span class="pre">SET_VERSIONSTAMPED_KEY</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">READ_AHEAD_DISABLE</span></code> option has been deprecated.</p></li>
</ul>
</section>
<section id="java-and-python-bindings">
<h3>Java and Python bindings</h3>
<ul class="simple">
<li><p>Tuples packed with versionstamps will be encoded with four byte offsets instead of two.</p></li>
</ul>
</section>
</section>
<section id="api-version-510">
<span id="api-version-upgrade-guide-510"></span><h2>API version 510</h2>
<section id="id13">
<h3>General</h3>
<ul class="simple">
<li><p>The atomic operations <code class="docutils literal notranslate"><span class="pre">AND</span></code> and <code class="docutils literal notranslate"><span class="pre">MIN</span></code> have changed behavior when used on a key that isn’t present in the database. Previously, these operations would set an unset key to a value of equal length with the specified value but containing all null bytes (0x00). Now, an unset key will be set with the value passed to the operation (equivalent to a set).</p></li>
</ul>
</section>
<section id="id14">
<h3>Java bindings</h3>
<ul class="simple">
<li><p>Note: the Java bindings as of 5.1 no longer support API versions older that 510.</p></li>
<li><p>The Java bindings have moved packages from <code class="docutils literal notranslate"><span class="pre">com.apple.cie.foundationdb</span></code> to <code class="docutils literal notranslate"><span class="pre">com.apple.foundationdb</span></code>.</p></li>
<li><p>The version of the Java bindings using our custom futures library has been deprecated and is no longer being maintained. The Java bindings using <code class="docutils literal notranslate"><span class="pre">CompletableFuture</span></code> are the only ones that remain.</p></li>
<li><p>Finalizers now log a warning to <code class="docutils literal notranslate"><span class="pre">stderr</span></code> if an object with native resources is not closed. This can be disabled by calling <code class="docutils literal notranslate"><span class="pre">FDB.setUnclosedWarning()</span></code>.</p></li>
<li><p>Implementers of the <code class="docutils literal notranslate"><span class="pre">Disposable</span></code> interface now implement <code class="docutils literal notranslate"><span class="pre">AutoCloseable</span></code> instead, with <code class="docutils literal notranslate"><span class="pre">close()</span></code> replacing <code class="docutils literal notranslate"><span class="pre">dispose()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AutoCloseable</span></code> objects will continue to be closed in object finalizers, but this behavior is being deprecated. All <code class="docutils literal notranslate"><span class="pre">AutoCloseable</span></code> objects should be explicitly closed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AsyncIterator</span></code> is no longer closeable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getBoundaryKeys()</span></code> now returns a <code class="docutils literal notranslate"><span class="pre">CloseableAsyncIterable</span></code> rather than an <code class="docutils literal notranslate"><span class="pre">AsyncIterator</span></code>.</p></li>
</ul>
</section>
</section>
<section id="api-version-500">
<span id="api-version-upgrade-guide-500"></span><h2>API version 500</h2>
<section id="id15">
<h3>Java bindings</h3>
<ul class="simple">
<li><p>Note: the Java bindings as of 5.0 no longer support API versions older than 500.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FDB.open</span></code> and <code class="docutils literal notranslate"><span class="pre">Cluster.openDatabase</span></code> no longer take a DB name parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Transaction.onError</span></code> invalidates its transaction and asynchronously return a new replacement <code class="docutils literal notranslate"><span class="pre">Transaction</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Transaction.reset</span></code> has been removed.</p></li>
</ul>
</section>
</section>
<section id="api-version-460">
<span id="api-version-upgrade-guide-460"></span><h2>API version 460</h2>
<p>There are no behavior changes in this API version.</p>
</section>
<section id="api-version-450">
<span id="api-version-upgrade-guide-450"></span><h2>API version 450</h2>
<p>There are no behavior changes in this API version.</p>
</section>
<section id="api-version-440">
<span id="api-version-upgrade-guide-440"></span><h2>API version 440</h2>
<p>There are no behavior changes in this API version.</p>
</section>
<section id="api-version-430">
<span id="api-version-upgrade-guide-430"></span><h2>API version 430</h2>
<p>There are no behavior changes in this API version.</p>
</section>
<section id="api-version-420">
<span id="api-version-upgrade-guide-420"></span><h2>API version 420</h2>
<p>There are no behavior changes in this API version.</p>
</section>
<section id="api-version-410">
<span id="api-version-upgrade-guide-410"></span><h2>API version 410</h2>
<section id="id16">
<h3>General</h3>
<ul class="simple">
<li><p>Transactions no longer reset after a successful commit.</p></li>
</ul>
</section>
</section>
<section id="api-version-400">
<span id="api-version-upgrade-guide-400"></span><h2>API version 400</h2>
<section id="id17">
<h3>Java bindings</h3>
<ul class="simple">
<li><p>The Java bindings have moved packages from <code class="docutils literal notranslate"><span class="pre">com.foundationdb</span></code> to <code class="docutils literal notranslate"><span class="pre">com.apple.cie.foundationdb</span></code>.</p></li>
</ul>
</section>
</section>
<section id="api-version-300">
<span id="api-version-upgrade-guide-300"></span><h2>API version 300</h2>
<section id="id18">
<h3>General</h3>
<ul class="simple">
<li><p>Snapshot reads now see the effects of prior writes within the same transaction. The previous behavior can be achieved using the <code class="docutils literal notranslate"><span class="pre">SNAPSHOT_RYW_DISABLE</span></code> transaction option.</p></li>
<li><p>The transaction size limit now includes the size of conflict ranges in its calculation. The size of a conflict range is the sum of the lengths of its begin and end keys.</p></li>
<li><p>Adding conflict ranges or watches in the system keyspace (beginning with <code class="docutils literal notranslate"><span class="pre">\xFF</span></code>) now requires setting the <code class="docutils literal notranslate"><span class="pre">READ_SYSTEM_KEYS</span></code> or <code class="docutils literal notranslate"><span class="pre">ACCESS_SYSTEM_KEYS</span></code> option.</p></li>
</ul>
</section>
</section>
<section id="api-version-200">
<span id="api-version-upgrade-guide-200"></span><h2>API version 200</h2>
<section id="id19">
<h3>General</h3>
<ul class="simple">
<li><p>Read version requests will now fail when the transaction is reset or has experienced another error.</p></li>
</ul>
</section>
</section>
<section id="api-version-100">
<span id="api-version-upgrade-guide-100"></span><h2>API version 100</h2>
<section id="id20">
<h3>Java bindings</h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Transaction.clearRangeStartsWith</span></code> has been deprecated. <code class="docutils literal notranslate"><span class="pre">Transaction.clear(Range)</span></code> should be used instead.</p></li>
</ul>
</section>
</section>
<section id="older-api-versions">
<h2>Older API versions</h2>
<p>API versions from the beta and alpha releases of Foundationdb (pre-100) are not documented here. See <a class="reference internal" href="release-notes/release-notes-023.html"><span class="doc">Release Notes</span></a> for details about changes in those releases.</p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/api-version-upgrade-guide.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2013-2025 Apple, Inc and the FoundationDB project authors.<br/>
      Last updated on Sep 13, 2025.<br/>
    </p>
  </div>
</footer>
  </body>
</html>